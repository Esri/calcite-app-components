import{h as t,H as i}from"./p-9d0aa6e4.js";import{f as s,a as n,g as e,b as a}from"./p-27f3f0d7.js";import{g as o}from"./p-cf80779e.js";import{C as r}from"./p-c55f1634.js";import{d as c}from"./p-bdefc18b.js";function h(){this.setUpItems(),this.setUpFilter()}const l=["ArrowUp","ArrowDown"];function f(){this.setUpItems(),this.setUpFilter(),this.emitCalciteListChange=c(j.bind(this),0)}function u(){this.observer.observe(this.el,{childList:!0,subtree:!0})}function d(){this.observer.disconnect()}function m(t){const{selectedValues:i}=this,{item:s,value:n,selected:e,shiftPressed:a}=t.detail;e?(this.multiple||this.deselectSiblingItems(s),this.multiple&&a&&this.selectSiblings(s),i.set(n,s)):(i.delete(n),this.multiple&&a&&this.selectSiblings(s,!0)),this.multiple||g(s,e),this.lastSelectedItem=s,this.emitCalciteListChange()}function p(t){t.stopPropagation();const i=t.detail.oldValue,s=this.selectedValues;if(s.has(i)){const n=s.get(i);s.delete(i),s.set(t.detail.newValue,n)}}function b(t){const{key:i,target:n}=t;if(!function(t){return!!l.find(i=>i===t)}(i))return;const{items:e,multiple:a}=this,{length:r}=e,c=e.indexOf(n);if(!r||-1===c)return;t.preventDefault();const h=e[o(c+("ArrowUp"===i?-1:1),r)];g(h,!0),s(h),a||(h.selected=!0)}function j(){this.calciteListChange.emit(this.selectedValues)}function g(t,i){i?t.removeAttribute("tabindex"):t.setAttribute("tabindex","-1")}function v(){const{multiple:t,items:i}=this;if(0!==i.length)return t?i[0].setFocus():(i.find(t=>t.selected)||i[0]).setFocus()}function F(t){this.items=Array.from(this.el.querySelectorAll(t));let i=!1;const{items:s}=this;s.forEach(t=>{t.icon=this.getIconType(),this.multiple||(t.disableDeselect=!0,g(t,!1)),t.selected&&(i=!0,g(t,!0),this.selectedValues.set(t.value,t))});const[n]=s;!i&&n&&g(n,!0)}function O(t){this.items.forEach(i=>{i.value!==t.value&&(i.toggleSelected(!1),this.selectedValues.has(i.value)&&this.selectedValues.delete(i.value))})}function w(t,i=!1){if(!this.lastSelectedItem)return;const{items:s}=this,n=s.findIndex(t=>t.value===this.lastSelectedItem.value),e=s.findIndex(i=>i.value===t.value);s.slice(Math.min(n,e),Math.max(n,e)).forEach(t=>{t.toggleSelected(!i),i?this.selectedValues.delete(t.value):this.selectedValues.set(t.value,t)})}function x(t){const i=t.detail.map(t=>t.value);this.items.forEach(t=>{const s=t.parentElement.matches("calcite-pick-list-group");if(t.hidden=-1===i.indexOf(t.value),s){const s=n(t.parentElement,"parent-item");null!==s&&(-1!==i.indexOf(s.value)&&(t.hidden=!1),-1!==i.indexOf(t.value)&&(s.hidden=!1))}})}function y(){return this.items.map(t=>({label:t.textLabel,description:t.textDescription,metadata:t.metadata,value:t.value}))}const A=s=>{var{props:n}=s,o=function(t,i){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&i.indexOf(n)<0&&(s[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(n=Object.getOwnPropertySymbols(t);e<n.length;e++)i.indexOf(n[e])<0&&Object.prototype.propertyIsEnumerable.call(t,n[e])&&(s[n[e]]=t[n[e]])}return s}(s,["props"]);const{disabled:c,loading:h,filterEnabled:l,dataForFilter:f,handleFilter:u,textFilterPlaceholder:d,el:m}=n,p=t("slot",null);return t(i,Object.assign({role:"menu","aria-disabled":c.toString(),"aria-busy":h.toString()},o),t("section",null,t("header",{class:{[r.sticky]:!0}},l?t("calcite-filter",{data:f,dir:a(m),placeholder:d,"aria-label":d,onCalciteFilterChange:u}):null,t("slot",{name:"menu-actions"})),h||c?t("calcite-scrim",{theme:e(m),loading:h},p):p))};export{A as L,u as a,m as b,d as c,O as d,p as e,F as f,y as g,x as h,f as i,v as j,b as k,h as m,w as s}