import{h as t,H as s}from"./p-03cd1608.js";import{C as i}from"./p-84f6c208.js";import{C as e}from"./p-4d533d6f.js";function a(t,s){const i=t;i?i.set(s.value,s):i&&i.set(s.value,s)}const l={mutationObserverCallback(){this.setUpItems(),this.setUpFilter()},initialize(){this.setUpItems(),this.setUpFilter()},initializeObserver(){this.observer.observe(this.el,{childList:!0,subtree:!0})},cleanUpObserver(){this.observer.disconnect()},calciteListItemChangeHandler(t){const{selectedValues:s}=this,{item:i,value:e,selected:a,shiftPressed:l}=t.detail;a?(this.multiple||this.deselectSiblingItems(i),this.multiple&&l&&this.selectSiblings(i),s.set(e,i)):s.delete(e),this.lastSelectedItem=i,this.calciteListChange.emit(s)},setUpItems(t){this.items=Array.from(this.el.querySelectorAll(t)),this.items.forEach(t=>{t.icon=this.getIconType(),t.compact=this.compact,t.selected&&a(this.selectedValues,t)})},setUpFilter(){this.filterEnabled&&(this.dataForFilter=this.getItemData())},deselectSiblingItems(t){this.items.forEach(s=>{s!==t&&(s.toggleSelected(!1),this.selectedValues.has(s.value)&&this.selectedValues.delete(s.value))})},selectSiblings(t){if(!this.lastSelectedItem)return;const{items:s}=this,i=s.findIndex(t=>t.value===this.lastSelectedItem.value),e=s.findIndex(s=>s.value===t.value);s.slice(Math.min(i,e),Math.max(i,e)).forEach(t=>{t.toggleSelected(!0),a(this.selectedValues,t)})},handleFilter(t){const s=t.detail.map(t=>t.value);this.items.forEach(t=>{t.hidden=-1===s.indexOf(t.value)})},getItemData(){const t=[];return this.items.forEach(s=>{const i={};i.label=s.textLabel||s.textHeading,i.description=s.textDescription,i.metadata=s.metadata,i.value=s.value,t.push(i)}),t}};const r=a=>{var{props:l,text:r}=a,h=function(t,s){var i={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&s.indexOf(e)<0&&(i[e]=t[e]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(t);a<e.length;a++)s.indexOf(e[a])<0&&Object.prototype.propertyIsEnumerable.call(t,e[a])&&(i[e[a]]=t[e[a]])}return i}(a,["props","text"]);const{disabled:n,loading:c,filterEnabled:o,dataForFilter:d,handleFilter:b}=l,{filterPlaceholder:f}=r;return t(s,Object.assign({"aria-disabled":n,"aria-busy":c},h),t("header",{class:{[e.sticky]:!0}},o?t("calcite-filter",{data:d,textPlaceholder:f,"aria-label":f,onCalciteFilterChange:b}):null,t("slot",{name:"menu-actions"})),t("slot",null),((s,e)=>s||e?t(i,{loading:s}):null)(c,n))};export{r as L,l as s};