System.register(["./p-e7157442.system.js","./p-26f9c0f4.system.js","./p-12ec9e50.system.js","./p-1071578d.system.js"],(function(e){"use strict";var t,i,l,s,a;return{setters:[function(e){t=e.h;i=e.H},function(e){l=e.C},function(e){s=e.C},function(e){a=e.d}],execute:function(){var n=e("s",{mutationObserverCallback:function(){this.setUpItems();this.setUpFilter()},initialize:function(){this.setUpItems();this.setUpFilter();this.emitCalciteListChange=a(n.internalCalciteListChangeEvent.bind(this),0)},initializeObserver:function(){this.observer.observe(this.el,{childList:true,subtree:true})},cleanUpObserver:function(){this.observer.disconnect()},calciteListItemChangeHandler:function(e){var t=this.selectedValues;var i=e.detail,l=i.item,s=i.value,a=i.selected,n=i.shiftPressed;if(a){if(!this.multiple){this.deselectSiblingItems(l)}if(this.multiple&&n){this.selectSiblings(l)}t.set(s,l)}else{t.delete(s);if(this.multiple&&n){this.selectSiblings(l,true)}}this.lastSelectedItem=l;this.emitCalciteListChange()},calciteListItemValueChangeHandler:function(e){e.stopPropagation();var t=e.detail.oldValue;if(this.selectedValues.has(t)){var i=this.selectedValues.get(t);this.selectedValues.delete(t);this.selectedValues.set(e.detail.newValue,i)}},internalCalciteListChangeEvent:function(){this.calciteListChange.emit(this.selectedValues)},setUpItems:function(e){var t=this;this.items=Array.from(this.el.querySelectorAll(e));this.items.forEach((function(e){e.icon=t.getIconType();e.compact=t.compact;if(!t.multiple){e.disableDeselect=true}if(e.selected){t.selectedValues.set(e.value,e)}}))},setUpFilter:function(){if(this.filterEnabled){this.dataForFilter=this.getItemData()}},deselectSiblingItems:function(e){var t=this;this.items.forEach((function(i){if(i.value!==e.value){i.toggleSelected(false);if(t.selectedValues.has(i.value)){t.selectedValues.delete(i.value)}}}))},selectSiblings:function(e,t){var i=this;if(t===void 0){t=false}if(!this.lastSelectedItem){return}var l=this.items;var s=l.findIndex((function(e){return e.value===i.lastSelectedItem.value}));var a=l.findIndex((function(t){return t.value===e.value}));l.slice(Math.min(s,a),Math.max(s,a)).forEach((function(e){e.toggleSelected(!t);if(!t){i.selectedValues.set(e.value,e)}else{i.selectedValues.delete(e.value)}}))},handleFilter:function(e){var t=e.detail;var i=t.map((function(e){return e.value}));this.items.forEach((function(e){var t=e.parentElement.matches("calcite-pick-list-group");e.hidden=i.indexOf(e.value)===-1;if(t){var l=e.parentElement.querySelector("[slot=parent-item]");if(l!==null){if(i.indexOf(l.value)!==-1){e.hidden=false}if(i.indexOf(e.value)!==-1){l.hidden=false}}}}))},getItemData:function(){var e=[];this.items.forEach((function(t){var i={};i.label=t.textLabel;i.description=t.textDescription;i.metadata=t.metadata;i.value=t.value;e.push(i)}));return e}});var r=undefined&&undefined.__rest||function(e,t){var i={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0)i[l]=e[l];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var s=0,l=Object.getOwnPropertySymbols(e);s<l.length;s++){if(t.indexOf(l[s])<0&&Object.prototype.propertyIsEnumerable.call(e,l[s]))i[l[s]]=e[l[s]]}return i};var c=function(e,i){return t(l,{loading:e,disabled:i})};var u=function(e){var l;var a=e.props,n=r(e,["props"]);var u=a.disabled,o=a.loading,d=a.filterEnabled,f=a.dataForFilter,h=a.handleFilter,v=a.textFilterPlaceholder;return t(i,Object.assign({role:"menu","aria-disabled":u.toString(),"aria-busy":o.toString()},n),t("header",{class:(l={},l[s.sticky]=true,l)},d?t("calcite-filter",{data:f,textPlaceholder:v,"aria-label":v,onCalciteFilterChange:h}):null,t("slot",{name:"menu-actions"})),t("slot",null),c(o,u))};e("L",u)}}}));