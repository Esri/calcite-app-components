import{h as t,H as i}from"./p-03cd1608.js";import{C as e}from"./p-84f6c208.js";function s(t,i){const e=t;e?e.set(i.value,i):e&&e.set(i.value,i)}const l={mutationObserverCallback(){this.setUpItems(),this.setUpFilter()},initialize(){this.setUpItems(),this.setUpFilter()},initializeObserver(){this.observer.observe(this.el,{childList:!0,subtree:!0})},cleanUpObserver(){this.observer.disconnect()},calciteListItemChangeHandler(t){const{selectedValues:i}=this,{item:e,value:s,selected:l,shiftPressed:a}=t.detail;l?(this.multiple||this.deselectSiblingItems(e),this.multiple&&a&&this.selectSiblings(e),i.set(s,e)):i.delete(s),this.lastSelectedItem=e,this.calciteListChange.emit(i)},setUpItems(t){this.items=Array.from(this.el.querySelectorAll(t)),this.items.forEach(t=>{t.icon=this.getIconType(),t.compact=this.compact,t.selected&&s(this.selectedValues,t)})},setUpFilter(){this.filterEnabled&&(this.dataForFilter=this.getItemData())},deselectSiblingItems(t){this.items.forEach(i=>{i!==t&&(i.toggleSelected(!1),this.selectedValues.has(i.value)&&this.selectedValues.delete(i.value))})},selectSiblings(t){if(!this.lastSelectedItem)return;const{items:i}=this,e=i.findIndex(t=>t.value===this.lastSelectedItem.value),l=i.findIndex(i=>i.value===t.value);i.slice(Math.min(e,l),Math.max(e,l)).forEach(t=>{t.toggleSelected(!0),s(this.selectedValues,t)})},handleFilter(t){const i=t.detail.map(t=>t.value);this.items.forEach(t=>{t.hidden=-1===i.indexOf(t.value)})},getItemData(){const t=[];return this.items.forEach(i=>{const e={};e.label=i.textLabel||i.textHeading,e.description=i.textDescription,e.metadata=i.metadata,e.value=i.value,t.push(e)}),t}};const a=s=>{var{props:l,text:a}=s,r=function(t,i){var e={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(e[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(s=Object.getOwnPropertySymbols(t);l<s.length;l++)i.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(t,s[l])&&(e[s[l]]=t[s[l]])}return e}(s,["props","text"]);const{disabled:h,loading:n,filterEnabled:c,dataForFilter:o,handleFilter:d}=l,{filterPlaceholder:u}=a;return t(i,Object.assign({"aria-disabled":h,"aria-busy":n},r),t("header",null,c?t("calcite-filter",{data:o,textPlaceholder:u,"aria-label":u,onCalciteFilterChange:d}):null,t("slot",{name:"menu-actions"})),t("slot",null),((i,s)=>i||s?t(e,{loading:i}):null)(n,h))};export{a as L,l as s};