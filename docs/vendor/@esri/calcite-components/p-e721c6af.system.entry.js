var __awaiter=this&&this.__awaiter||function(e,r,t,a){function n(e){return e instanceof t?e:new t((function(r){r(e)}))}return new(t||(t=Promise))((function(t,i){function o(e){try{s(a.next(e))}catch(r){i(r)}}function l(e){try{s(a["throw"](e))}catch(r){i(r)}}function s(e){e.done?t(e.value):n(e.value).then(o,l)}s((a=a.apply(e,r||[])).next())}))};var __generator=this&&this.__generator||function(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,n,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(e){return function(r){return s([e,r])}}function s(o){if(a)throw new TypeError("Generator is already executing.");while(t)try{if(a=1,n&&(i=o[0]&2?n["return"]:o[0]?n["throw"]||((i=n["return"])&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;if(n=0,i)o=[o[0]&2,i.value];switch(o[0]){case 0:case 1:i=o;break;case 4:t.label++;return{value:o[1],done:false};case 5:t.label++;n=o[1];o=[0];continue;case 7:o=t.ops.pop();t.trys.pop();continue;default:if(!(i=t.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){t=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){t.label=o[1];break}if(o[0]===6&&t.label<i[1]){t.label=i[1];i=o;break}if(i&&t.label<i[2]){t.label=i[2];t.ops.push(o);break}if(i[2])t.ops.pop();t.trys.pop();continue}o=r.call(e,t)}catch(l){o=[6,l];n=0}finally{a=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};var __spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var a=Array(e),n=0,r=0;r<t;r++)for(var i=arguments[r],o=0,l=i.length;o<l;o++,n++)a[n]=i[o];return a};System.register(["./p-debd485c.system.js","./p-b6e00050.system.js"],(function(e){"use strict";var r,t,a,n,i,o,l;return{setters:[function(e){r=e.r;t=e.c;a=e.h;n=e.g;i=e.H},function(e){o=e.f;l=e.g}],execute:function(){function s(e,r,t){return t={path:r,exports:{},require:function(e,r){return h()}},e(t,t.exports),t.exports}function h(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var c={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var u=function e(r){if(!r||typeof r==="string"){return false}return r instanceof Array||Array.isArray(r)||r.length>=0&&(r.splice instanceof Function||Object.getOwnPropertyDescriptor(r,r.length-1)&&r.constructor.name!=="String")};var v=s((function(e){var r=Array.prototype.concat;var t=Array.prototype.slice;var a=e.exports=function e(a){var n=[];for(var i=0,o=a.length;i<o;i++){var l=a[i];if(u(l)){n=r.call(n,t.call(l))}else{n.push(l)}}return n};a.wrap=function(e){return function(){return e(a(arguments))}}}));var d=s((function(e){var r={};for(var t in c){if(c.hasOwnProperty(t)){r[c[t]]=t}}var a=e.exports={to:{},get:{}};a.get=function(e){var r=e.substring(0,3).toLowerCase();var t;var n;switch(r){case"hsl":t=a.get.hsl(e);n="hsl";break;case"hwb":t=a.get.hwb(e);n="hwb";break;default:t=a.get.rgb(e);n="rgb";break}if(!t){return null}return{model:n,value:t}};a.get.rgb=function(e){if(!e){return null}var r=/^#([a-f0-9]{3,4})$/i;var t=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i;var a=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/;var i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/;var o=/(\D+)/;var l=[0,0,0,1];var s;var h;var u;if(s=e.match(t)){u=s[2];s=s[1];for(h=0;h<3;h++){var v=h*2;l[h]=parseInt(s.slice(v,v+2),16)}if(u){l[3]=Math.round(parseInt(u,16)/255*100)/100}}else if(s=e.match(r)){s=s[1];u=s[3];for(h=0;h<3;h++){l[h]=parseInt(s[h]+s[h],16)}if(u){l[3]=Math.round(parseInt(u+u,16)/255*100)/100}}else if(s=e.match(a)){for(h=0;h<3;h++){l[h]=parseInt(s[h+1],0)}if(s[4]){l[3]=parseFloat(s[4])}}else if(s=e.match(i)){for(h=0;h<3;h++){l[h]=Math.round(parseFloat(s[h+1])*2.55)}if(s[4]){l[3]=parseFloat(s[4])}}else if(s=e.match(o)){if(s[1]==="transparent"){return[0,0,0,0]}l=c[s[1]];if(!l){return null}l[3]=1;return l}else{return null}for(h=0;h<3;h++){l[h]=n(l[h],0,255)}l[3]=n(l[3],0,1);return l};a.get.hsl=function(e){if(!e){return null}var r=/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/;var t=e.match(r);if(t){var a=parseFloat(t[4]);var i=(parseFloat(t[1])+360)%360;var o=n(parseFloat(t[2]),0,100);var l=n(parseFloat(t[3]),0,100);var s=n(isNaN(a)?1:a,0,1);return[i,o,l,s]}return null};a.get.hwb=function(e){if(!e){return null}var r=/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/;var t=e.match(r);if(t){var a=parseFloat(t[4]);var i=(parseFloat(t[1])%360+360)%360;var o=n(parseFloat(t[2]),0,100);var l=n(parseFloat(t[3]),0,100);var s=n(isNaN(a)?1:a,0,1);return[i,o,l,s]}return null};a.to.hex=function(){var e=v(arguments);return"#"+i(e[0])+i(e[1])+i(e[2])+(e[3]<1?i(Math.round(e[3]*255)):"")};a.to.rgb=function(){var e=v(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};a.to.rgb.percent=function(){var e=v(arguments);var r=Math.round(e[0]/255*100);var t=Math.round(e[1]/255*100);var a=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+r+"%, "+t+"%, "+a+"%)":"rgba("+r+"%, "+t+"%, "+a+"%, "+e[3]+")"};a.to.hsl=function(){var e=v(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};a.to.hwb=function(){var e=v(arguments);var r="";if(e.length>=4&&e[3]!==1){r=", "+e[3]}return"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+r+")"};a.to.keyword=function(e){return r[e.slice(0,3)]};function n(e,r,t){return Math.min(Math.max(r,e),t)}function i(e){var r=e.toString(16).toUpperCase();return r.length<2?"0"+r:r}}));var f=s((function(e){var r={};for(var t in c){if(c.hasOwnProperty(t)){r[c[t]]=t}}var a=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var n in a){if(a.hasOwnProperty(n)){if(!("channels"in a[n])){throw new Error("missing channels property: "+n)}if(!("labels"in a[n])){throw new Error("missing channel labels property: "+n)}if(a[n].labels.length!==a[n].channels){throw new Error("channel and label counts mismatch: "+n)}var i=a[n].channels;var o=a[n].labels;delete a[n].channels;delete a[n].labels;Object.defineProperty(a[n],"channels",{value:i});Object.defineProperty(a[n],"labels",{value:o})}}a.rgb.hsl=function(e){var r=e[0]/255;var t=e[1]/255;var a=e[2]/255;var n=Math.min(r,t,a);var i=Math.max(r,t,a);var o=i-n;var l;var s;var h;if(i===n){l=0}else if(r===i){l=(t-a)/o}else if(t===i){l=2+(a-r)/o}else if(a===i){l=4+(r-t)/o}l=Math.min(l*60,360);if(l<0){l+=360}h=(n+i)/2;if(i===n){s=0}else if(h<=.5){s=o/(i+n)}else{s=o/(2-i-n)}return[l,s*100,h*100]};a.rgb.hsv=function(e){var r;var t;var a;var n;var i;var o=e[0]/255;var l=e[1]/255;var s=e[2]/255;var h=Math.max(o,l,s);var c=h-Math.min(o,l,s);var u=function(e){return(h-e)/6/c+1/2};if(c===0){n=i=0}else{i=c/h;r=u(o);t=u(l);a=u(s);if(o===h){n=a-t}else if(l===h){n=1/3+r-a}else if(s===h){n=2/3+t-r}if(n<0){n+=1}else if(n>1){n-=1}}return[n*360,i*100,h*100]};a.rgb.hwb=function(e){var r=e[0];var t=e[1];var n=e[2];var i=a.rgb.hsl(e)[0];var o=1/255*Math.min(r,Math.min(t,n));n=1-1/255*Math.max(r,Math.max(t,n));return[i,o*100,n*100]};a.rgb.cmyk=function(e){var r=e[0]/255;var t=e[1]/255;var a=e[2]/255;var n;var i;var o;var l;l=Math.min(1-r,1-t,1-a);n=(1-r-l)/(1-l)||0;i=(1-t-l)/(1-l)||0;o=(1-a-l)/(1-l)||0;return[n*100,i*100,o*100,l*100]};function l(e,r){return Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2)+Math.pow(e[2]-r[2],2)}a.rgb.keyword=function(e){var t=r[e];if(t){return t}var a=Infinity;var n;for(var i in c){if(c.hasOwnProperty(i)){var o=c[i];var s=l(e,o);if(s<a){a=s;n=i}}}return n};a.keyword.rgb=function(e){return c[e]};a.rgb.xyz=function(e){var r=e[0]/255;var t=e[1]/255;var a=e[2]/255;r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92;a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92;var n=r*.4124+t*.3576+a*.1805;var i=r*.2126+t*.7152+a*.0722;var o=r*.0193+t*.1192+a*.9505;return[n*100,i*100,o*100]};a.rgb.lab=function(e){var r=a.rgb.xyz(e);var t=r[0];var n=r[1];var i=r[2];var o;var l;var s;t/=95.047;n/=100;i/=108.883;t=t>.008856?Math.pow(t,1/3):7.787*t+16/116;n=n>.008856?Math.pow(n,1/3):7.787*n+16/116;i=i>.008856?Math.pow(i,1/3):7.787*i+16/116;o=116*n-16;l=500*(t-n);s=200*(n-i);return[o,l,s]};a.hsl.rgb=function(e){var r=e[0]/360;var t=e[1]/100;var a=e[2]/100;var n;var i;var o;var l;var s;if(t===0){s=a*255;return[s,s,s]}if(a<.5){i=a*(1+t)}else{i=a+t-a*t}n=2*a-i;l=[0,0,0];for(var h=0;h<3;h++){o=r+1/3*-(h-1);if(o<0){o++}if(o>1){o--}if(6*o<1){s=n+(i-n)*6*o}else if(2*o<1){s=i}else if(3*o<2){s=n+(i-n)*(2/3-o)*6}else{s=n}l[h]=s*255}return l};a.hsl.hsv=function(e){var r=e[0];var t=e[1]/100;var a=e[2]/100;var n=t;var i=Math.max(a,.01);var o;var l;a*=2;t*=a<=1?a:2-a;n*=i<=1?i:2-i;l=(a+t)/2;o=a===0?2*n/(i+n):2*t/(a+t);return[r,o*100,l*100]};a.hsv.rgb=function(e){var r=e[0]/60;var t=e[1]/100;var a=e[2]/100;var n=Math.floor(r)%6;var i=r-Math.floor(r);var o=255*a*(1-t);var l=255*a*(1-t*i);var s=255*a*(1-t*(1-i));a*=255;switch(n){case 0:return[a,s,o];case 1:return[l,a,o];case 2:return[o,a,s];case 3:return[o,l,a];case 4:return[s,o,a];case 5:return[a,o,l]}};a.hsv.hsl=function(e){var r=e[0];var t=e[1]/100;var a=e[2]/100;var n=Math.max(a,.01);var i;var o;var l;l=(2-t)*a;i=(2-t)*n;o=t*n;o/=i<=1?i:2-i;o=o||0;l/=2;return[r,o*100,l*100]};a.hwb.rgb=function(e){var r=e[0]/360;var t=e[1]/100;var a=e[2]/100;var n=t+a;var i;var o;var l;var s;if(n>1){t/=n;a/=n}i=Math.floor(6*r);o=1-a;l=6*r-i;if((i&1)!==0){l=1-l}s=t+l*(o-t);var h;var c;var u;switch(i){default:case 6:case 0:h=o;c=s;u=t;break;case 1:h=s;c=o;u=t;break;case 2:h=t;c=o;u=s;break;case 3:h=t;c=s;u=o;break;case 4:h=s;c=t;u=o;break;case 5:h=o;c=t;u=s;break}return[h*255,c*255,u*255]};a.cmyk.rgb=function(e){var r=e[0]/100;var t=e[1]/100;var a=e[2]/100;var n=e[3]/100;var i;var o;var l;i=1-Math.min(1,r*(1-n)+n);o=1-Math.min(1,t*(1-n)+n);l=1-Math.min(1,a*(1-n)+n);return[i*255,o*255,l*255]};a.xyz.rgb=function(e){var r=e[0]/100;var t=e[1]/100;var a=e[2]/100;var n;var i;var o;n=r*3.2406+t*-1.5372+a*-.4986;i=r*-.9689+t*1.8758+a*.0415;o=r*.0557+t*-.204+a*1.057;n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*12.92;i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*12.92;o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*12.92;n=Math.min(Math.max(0,n),1);i=Math.min(Math.max(0,i),1);o=Math.min(Math.max(0,o),1);return[n*255,i*255,o*255]};a.xyz.lab=function(e){var r=e[0];var t=e[1];var a=e[2];var n;var i;var o;r/=95.047;t/=100;a/=108.883;r=r>.008856?Math.pow(r,1/3):7.787*r+16/116;t=t>.008856?Math.pow(t,1/3):7.787*t+16/116;a=a>.008856?Math.pow(a,1/3):7.787*a+16/116;n=116*t-16;i=500*(r-t);o=200*(t-a);return[n,i,o]};a.lab.xyz=function(e){var r=e[0];var t=e[1];var a=e[2];var n;var i;var o;i=(r+16)/116;n=t/500+i;o=i-a/200;var l=Math.pow(i,3);var s=Math.pow(n,3);var h=Math.pow(o,3);i=l>.008856?l:(i-16/116)/7.787;n=s>.008856?s:(n-16/116)/7.787;o=h>.008856?h:(o-16/116)/7.787;n*=95.047;i*=100;o*=108.883;return[n,i,o]};a.lab.lch=function(e){var r=e[0];var t=e[1];var a=e[2];var n;var i;var o;n=Math.atan2(a,t);i=n*360/2/Math.PI;if(i<0){i+=360}o=Math.sqrt(t*t+a*a);return[r,o,i]};a.lch.lab=function(e){var r=e[0];var t=e[1];var a=e[2];var n;var i;var o;o=a/360*2*Math.PI;n=t*Math.cos(o);i=t*Math.sin(o);return[r,n,i]};a.rgb.ansi16=function(e){var r=e[0];var t=e[1];var n=e[2];var i=1 in arguments?arguments[1]:a.rgb.hsv(e)[2];i=Math.round(i/50);if(i===0){return 30}var o=30+(Math.round(n/255)<<2|Math.round(t/255)<<1|Math.round(r/255));if(i===2){o+=60}return o};a.hsv.ansi16=function(e){return a.rgb.ansi16(a.hsv.rgb(e),e[2])};a.rgb.ansi256=function(e){var r=e[0];var t=e[1];var a=e[2];if(r===t&&t===a){if(r<8){return 16}if(r>248){return 231}return Math.round((r-8)/247*24)+232}var n=16+36*Math.round(r/255*5)+6*Math.round(t/255*5)+Math.round(a/255*5);return n};a.ansi16.rgb=function(e){var r=e%10;if(r===0||r===7){if(e>50){r+=3.5}r=r/10.5*255;return[r,r,r]}var t=(~~(e>50)+1)*.5;var a=(r&1)*t*255;var n=(r>>1&1)*t*255;var i=(r>>2&1)*t*255;return[a,n,i]};a.ansi256.rgb=function(e){if(e>=232){var r=(e-232)*10+8;return[r,r,r]}e-=16;var t;var a=Math.floor(e/36)/5*255;var n=Math.floor((t=e%36)/6)/5*255;var i=t%6/5*255;return[a,n,i]};a.rgb.hex=function(e){var r=((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255);var t=r.toString(16).toUpperCase();return"000000".substring(t.length)+t};a.hex.rgb=function(e){var r=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!r){return[0,0,0]}var t=r[0];if(r[0].length===3){t=t.split("").map((function(e){return e+e})).join("")}var a=parseInt(t,16);var n=a>>16&255;var i=a>>8&255;var o=a&255;return[n,i,o]};a.rgb.hcg=function(e){var r=e[0]/255;var t=e[1]/255;var a=e[2]/255;var n=Math.max(Math.max(r,t),a);var i=Math.min(Math.min(r,t),a);var o=n-i;var l;var s;if(o<1){l=i/(1-o)}else{l=0}if(o<=0){s=0}else if(n===r){s=(t-a)/o%6}else if(n===t){s=2+(a-r)/o}else{s=4+(r-t)/o+4}s/=6;s%=1;return[s*360,o*100,l*100]};a.hsl.hcg=function(e){var r=e[1]/100;var t=e[2]/100;var a=1;var n=0;if(t<.5){a=2*r*t}else{a=2*r*(1-t)}if(a<1){n=(t-.5*a)/(1-a)}return[e[0],a*100,n*100]};a.hsv.hcg=function(e){var r=e[1]/100;var t=e[2]/100;var a=r*t;var n=0;if(a<1){n=(t-a)/(1-a)}return[e[0],a*100,n*100]};a.hcg.rgb=function(e){var r=e[0]/360;var t=e[1]/100;var a=e[2]/100;if(t===0){return[a*255,a*255,a*255]}var n=[0,0,0];var i=r%1*6;var o=i%1;var l=1-o;var s=0;switch(Math.floor(i)){case 0:n[0]=1;n[1]=o;n[2]=0;break;case 1:n[0]=l;n[1]=1;n[2]=0;break;case 2:n[0]=0;n[1]=1;n[2]=o;break;case 3:n[0]=0;n[1]=l;n[2]=1;break;case 4:n[0]=o;n[1]=0;n[2]=1;break;default:n[0]=1;n[1]=0;n[2]=l}s=(1-t)*a;return[(t*n[0]+s)*255,(t*n[1]+s)*255,(t*n[2]+s)*255]};a.hcg.hsv=function(e){var r=e[1]/100;var t=e[2]/100;var a=r+t*(1-r);var n=0;if(a>0){n=r/a}return[e[0],n*100,a*100]};a.hcg.hsl=function(e){var r=e[1]/100;var t=e[2]/100;var a=t*(1-r)+.5*r;var n=0;if(a>0&&a<.5){n=r/(2*a)}else if(a>=.5&&a<1){n=r/(2*(1-a))}return[e[0],n*100,a*100]};a.hcg.hwb=function(e){var r=e[1]/100;var t=e[2]/100;var a=r+t*(1-r);return[e[0],(a-r)*100,(1-a)*100]};a.hwb.hcg=function(e){var r=e[1]/100;var t=e[2]/100;var a=1-t;var n=a-r;var i=0;if(n<1){i=(a-n)/(1-n)}return[e[0],n*100,i*100]};a.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};a.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};a.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};a.gray.hsl=a.gray.hsv=function(e){return[0,0,e[0]]};a.gray.hwb=function(e){return[0,100,e[0]]};a.gray.cmyk=function(e){return[0,0,0,e[0]]};a.gray.lab=function(e){return[e[0],0,0]};a.gray.hex=function(e){var r=Math.round(e[0]/100*255)&255;var t=(r<<16)+(r<<8)+r;var a=t.toString(16).toUpperCase();return"000000".substring(a.length)+a};a.rgb.gray=function(e){var r=(e[0]+e[1]+e[2])/3;return[r/255*100]}}));function p(){var e={};var r=Object.keys(f);for(var t=r.length,a=0;a<t;a++){e[r[a]]={distance:-1,parent:null}}return e}function g(e){var r=p();var t=[e];r[e].distance=0;while(t.length){var a=t.pop();var n=Object.keys(f[a]);for(var i=n.length,o=0;o<i;o++){var l=n[o];var s=r[l];if(s.distance===-1){s.distance=r[a].distance+1;s.parent=a;t.unshift(l)}}}return r}function b(e,r){return function(t){return r(e(t))}}function m(e,r){var t=[r[e].parent,e];var a=f[r[e].parent][e];var n=r[e].parent;while(r[n].parent){t.unshift(r[n].parent);a=b(f[r[n].parent][n],a);n=r[n].parent}a.conversion=t;return a}var y=function(e){var r=g(e);var t={};var a=Object.keys(r);for(var n=a.length,i=0;i<n;i++){var o=a[i];var l=r[o];if(l.parent===null){continue}t[o]=m(o,r)}return t};var w={};var x=Object.keys(f);function C(e){var r=function(r){if(r===undefined||r===null){return r}if(arguments.length>1){r=Array.prototype.slice.call(arguments)}return e(r)};if("conversion"in e){r.conversion=e.conversion}return r}function S(e){var r=function(r){if(r===undefined||r===null){return r}if(arguments.length>1){r=Array.prototype.slice.call(arguments)}var t=e(r);if(typeof t==="object"){for(var a=t.length,n=0;n<a;n++){t[n]=Math.round(t[n])}}return t};if("conversion"in e){r.conversion=e.conversion}return r}x.forEach((function(e){w[e]={};Object.defineProperty(w[e],"channels",{value:f[e].channels});Object.defineProperty(w[e],"labels",{value:f[e].labels});var r=y(e);var t=Object.keys(r);t.forEach((function(t){var a=r[t];w[e][t]=S(a);w[e][t].raw=C(a)}))}));var M=w;var k=[].slice;var A=["keyword","gray","hex"];var F={};Object.keys(M).forEach((function(e){F[k.call(M[e].labels).sort().join("")]=e}));var I={};function H(e,r){if(!(this instanceof H)){return new H(e,r)}if(r&&r in A){r=null}if(r&&!(r in M)){throw new Error("Unknown model: "+r)}var t;var a;if(e==null){this.model="rgb";this.color=[0,0,0];this.valpha=1}else if(e instanceof H){this.model=e.model;this.color=e.color.slice();this.valpha=e.valpha}else if(typeof e==="string"){var n=d.get(e);if(n===null){throw new Error("Unable to parse color from string: "+e)}this.model=n.model;a=M[this.model].channels;this.color=n.value.slice(0,a);this.valpha=typeof n.value[a]==="number"?n.value[a]:1}else if(e.length){this.model=r||"rgb";a=M[this.model].channels;var i=k.call(e,0,a);this.color=E(i,a);this.valpha=typeof e[a]==="number"?e[a]:1}else if(typeof e==="number"){e&=16777215;this.model="rgb";this.color=[e>>16&255,e>>8&255,e&255];this.valpha=1}else{this.valpha=1;var o=Object.keys(e);if("alpha"in e){o.splice(o.indexOf("alpha"),1);this.valpha=typeof e.alpha==="number"?e.alpha:0}var l=o.sort().join("");if(!(l in F)){throw new Error("Unable to parse color from object: "+JSON.stringify(e))}this.model=F[l];var s=M[this.model].labels;var h=[];for(t=0;t<s.length;t++){h.push(e[s[t]])}this.color=E(h)}if(I[this.model]){a=M[this.model].channels;for(t=0;t<a;t++){var c=I[this.model][t];if(c){this.color[t]=c(this.color[t])}}}this.valpha=Math.max(0,Math.min(1,this.valpha));if(Object.freeze){Object.freeze(this)}}H.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var r=this.model in d.to?this:this.rgb();r=r.round(typeof e==="number"?e:1);var t=r.valpha===1?r.color:r.color.concat(this.valpha);return d.to[r.model](t)},percentString:function(e){var r=this.rgb().round(typeof e==="number"?e:1);var t=r.valpha===1?r.color:r.color.concat(this.valpha);return d.to.rgb.percent(t)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){var e={};var r=M[this.model].channels;var t=M[this.model].labels;for(var a=0;a<r;a++){e[t[a]]=this.color[a]}if(this.valpha!==1){e.alpha=this.valpha}return e},unitArray:function(){var e=this.rgb().color;e[0]/=255;e[1]/=255;e[2]/=255;if(this.valpha!==1){e.push(this.valpha)}return e},unitObject:function(){var e=this.rgb().object();e.r/=255;e.g/=255;e.b/=255;if(this.valpha!==1){e.alpha=this.valpha}return e},round:function(e){e=Math.max(e||0,0);return new H(this.color.map(O(e)).concat(this.valpha),this.model)},alpha:function(e){if(arguments.length){return new H(this.color.concat(Math.max(0,Math.min(1,e))),this.model)}return this.valpha},red:T("rgb",0,_(255)),green:T("rgb",1,_(255)),blue:T("rgb",2,_(255)),hue:T(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:T("hsl",1,_(100)),lightness:T("hsl",2,_(100)),saturationv:T("hsv",1,_(100)),value:T("hsv",2,_(100)),chroma:T("hcg",1,_(100)),gray:T("hcg",2,_(100)),white:T("hwb",1,_(100)),wblack:T("hwb",2,_(100)),cyan:T("cmyk",0,_(100)),magenta:T("cmyk",1,_(100)),yellow:T("cmyk",2,_(100)),black:T("cmyk",3,_(100)),x:T("xyz",0,_(100)),y:T("xyz",1,_(100)),z:T("xyz",2,_(100)),l:T("lab",0,_(100)),a:T("lab",1),b:T("lab",2),keyword:function(e){if(arguments.length){return new H(e)}return M[this.model].keyword(this.color)},hex:function(e){if(arguments.length){return new H(e)}return d.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity:function(){var e=this.rgb().color;var r=[];for(var t=0;t<e.length;t++){var a=e[t]/255;r[t]=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)}return.2126*r[0]+.7152*r[1]+.0722*r[2]},contrast:function(e){var r=this.luminosity();var t=e.luminosity();if(r>t){return(r+.05)/(t+.05)}return(t+.05)/(r+.05)},level:function(e){var r=this.contrast(e);if(r>=7.1){return"AAA"}return r>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;var r=(e[0]*299+e[1]*587+e[2]*114)/1e3;return r<128},isLight:function(){return!this.isDark()},negate:function(){var e=this.rgb();for(var r=0;r<3;r++){e.color[r]=255-e.color[r]}return e},lighten:function(e){var r=this.hsl();r.color[2]+=r.color[2]*e;return r},darken:function(e){var r=this.hsl();r.color[2]-=r.color[2]*e;return r},saturate:function(e){var r=this.hsl();r.color[1]+=r.color[1]*e;return r},desaturate:function(e){var r=this.hsl();r.color[1]-=r.color[1]*e;return r},whiten:function(e){var r=this.hwb();r.color[1]+=r.color[1]*e;return r},blacken:function(e){var r=this.hwb();r.color[2]+=r.color[2]*e;return r},grayscale:function(){var e=this.rgb().color;var r=e[0]*.3+e[1]*.59+e[2]*.11;return H.rgb(r,r,r)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var r=this.hsl();var t=r.color[0];t=(t+e)%360;t=t<0?360+t:t;r.color[0]=t;return r},mix:function(e,r){if(!e||!e.rgb){throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e)}var t=e.rgb();var a=this.rgb();var n=r===undefined?.5:r;var i=2*n-1;var o=t.alpha()-a.alpha();var l=((i*o===-1?i:(i+o)/(1+i*o))+1)/2;var s=1-l;return H.rgb(l*t.red()+s*a.red(),l*t.green()+s*a.green(),l*t.blue()+s*a.blue(),t.alpha()*n+a.alpha()*(1-n))}};Object.keys(M).forEach((function(e){if(A.indexOf(e)!==-1){return}var r=M[e].channels;H.prototype[e]=function(){if(this.model===e){return new H(this)}if(arguments.length){return new H(arguments,e)}var t=typeof arguments[r]==="number"?r:this.valpha;return new H(R(M[this.model][e].raw(this.color)).concat(t),e)};H[e]=function(t){if(typeof t==="number"){t=E(k.call(arguments),r)}return new H(t,e)}}));function j(e,r){return Number(e.toFixed(r))}function O(e){return function(r){return j(r,e)}}function T(e,r,t){e=Array.isArray(e)?e:[e];e.forEach((function(e){(I[e]||(I[e]=[]))[r]=t}));e=e[0];return function(a){var n;if(arguments.length){if(t){a=t(a)}n=this[e]();n.color[r]=a;return n}n=this[e]().color[r];if(t){n=t(n)}return n}}function _(e){return function(r){return Math.max(0,Math.min(e,r))}}function R(e){return Array.isArray(e)?e:[e]}function E(e,r){for(var t=0;t<r;t++){if(typeof e[t]!=="number"){e[t]=0}}return e}var P=H;var L={container:"container",controlSection:"control-section",hexOptions:"color-hex-options",section:"section",header:"header",control:"control",splitSection:"section--split",underlinedHeader:"header--underlined",colorModeContainer:"color-mode-container",colorMode:"color-mode",channels:"channels",channel:"channel",savedColors:"saved-colors",savedColorsSection:"saved-colors-section",saveColor:"save-color",deleteColor:"delete-color",savedColorsButtons:"saved-colors-buttons",headerHex:"header--hex",colorFieldAndSlider:"color-field-and-slider",colorFieldAndSliderInteractive:"color-field-and-slider--interactive",savedColor:"saved-color"};var B=P("#007AC2");var N="calcite-color-";var z={r:255,g:255,b:255};var D={h:360,s:100,v:100};var G={b:"B",blue:"Blue",deleteColor:"Delete color",g:"G",green:"Green",h:"H",hsv:"HSV",hex:"Hex",hue:"Hue",r:"R",red:"Red",rgb:"RGB",s:"S",saturation:"Saturation",saveColor:"Save color",saved:"Saved",v:"V",value:"Value"};var V={s:{slider:{height:10,width:156},colorField:{height:80,width:156},thumb:{radius:8}},m:{slider:{height:14,width:272},colorField:{height:150,width:272},thumb:{radius:10}},l:{slider:{height:16,width:420},colorField:{height:200,width:420},thumb:{radius:12}}};function q(e){var r=e.r,t=e.g,a=e.b;return("#"+r.toString(16).padStart(2,"0")+t.toString(16).padStart(2,"0")+a.toString(16).padStart(2,"0")).toLowerCase()}var W=/^[0-9A-F]{1}$/i;var K=/^#[0-9A-F]{3}$/i;var $=/^#[0-9A-F]{6}$/i;function X(e){return U(e)||J(e)}function U(e){return e&&e.length===4&&K.test(e)}function J(e){return e&&e.length===7&&$.test(e)}function Y(e){e=e.toLowerCase();if(!e.startsWith("#")){e="#"+e}if(U(e)){return q(Q(e))}return e}function Q(e){if(!X(e)){return null}e=e.replace("#","");if(e.length===3){var r=e.split(""),t=r[0],a=r[1],n=r[2];var i=parseInt(""+t+t,16);var o=parseInt(""+a+a,16);var l=parseInt(""+n+n,16);return{r:i,g:o,b:l}}var s=parseInt(e.slice(0,2),16);var h=parseInt(e.slice(2,4),16);var c=parseInt(e.slice(4,6),16);return{r:s,g:h,b:c}}var Z;(function(e){e["HEX"]="hex";e["HEXA"]="hexa";e["RGB_CSS"]="rgb-css";e["RGBA_CSS"]="rgba-css";e["HSL_CSS"]="hsl-css";e["HSLA_CSS"]="hsla-css"})(Z||(Z={}));var ee;(function(e){e["RGB"]="rgb";e["RGBA"]="rgba";e["HSL"]="hsl";e["HSLA"]="hsla";e["HSV"]="hsv";e["HSVA"]="hsva"})(ee||(ee={}));function re(e){if(typeof e==="string"){if(e.startsWith("#")){var r=e.length;if(r===4||r===7){return Z.HEX}if(r===5||r===9){return Z.HEXA}}if(e.startsWith("rgba(")){return Z.RGBA_CSS}if(e.startsWith("rgb(")){return Z.RGB_CSS}if(e.startsWith("hsl(")){return Z.HSL_CSS}if(e.startsWith("hsla(")){return Z.HSLA_CSS}}if(typeof e==="object"){if(te(e,"r","g","b")){return te(e,"a")?ee.RGBA:ee.RGB}if(te(e,"h","s","l")){return te(e,"a")?ee.HSLA:ee.HSL}if(te(e,"h","s","v")){return te(e,"a")?ee.HSVA:ee.HSV}}return null}function te(e){var r=[];for(var t=1;t<arguments.length;t++){r[t-1]=arguments[t]}return r.every((function(r){return""+r in e}))}function ae(e,r){return e.rgbNumber()===r.rgbNumber()}var ne=":host([hidden]){display:none}:host([scale=s]) .container{width:156px}:host([scale=s]) .saved-colors{grid-template-columns:repeat(auto-fill, minmax(20px, 1fr))}:host([scale=s]) .channels{-ms-flex-direction:column;flex-direction:column}:host([scale=s]) .channel{width:100%;margin-bottom:4px}:host([scale=s]) .channel:last-child{margin-bottom:0}:host([scale=m]) .container{width:272px}:host([scale=l]) .container{width:420px}:host([scale=l]) .color-field-and-slider{margin-bottom:-20px}:host([scale=l]) .section{padding:0 16px}:host([scale=l]) .saved-colors-section{padding-top:16px;padding-bottom:16px}:host([scale=l]) .saved-colors{grid-template-columns:repeat(auto-fill, minmax(28px, 1fr));grid-gap:12px;padding-top:16px}:host([scale=l]) .control-section{-ms-flex-wrap:nowrap;flex-wrap:nowrap}:host([scale=l]) .color-hex-options{-ms-flex-preferred-size:33%;flex-basis:33%}:host([scale=l]) .color-mode-container{-ms-flex-preferred-size:63%;flex-basis:63%}:host([scale=l]) .color-hex-options,:host([scale=l]) .color-mode-container{-ms-flex-positive:0;flex-grow:0}:host([appearance=minimal]) .container{border:none}.container{display:inline-block;border:1px solid var(--calcite-ui-border-1);background-color:var(--calcite-ui-foreground-1)}.color-field-and-slider{margin-bottom:-16px}.color-field-and-slider--interactive{cursor:pointer}.control-section{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap}.section{padding:0 12px}.saved-colors-section{padding-top:12px;padding-bottom:12px}.control-section{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.color-hex-options,.section--split{-ms-flex-positive:1;flex-grow:1}.header{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;color:var(--calcite-ui-text-3);font-weight:500;font-size:0.875rem;line-height:1.5}.header.header--underlined{border-bottom:1px solid var(--calcite-ui-border-1)}.header--hex{line-height:1.5;font-size:0.875rem;line-height:1.5;padding:12px 0 15px}.control{margin-top:8px}.channels{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.channel{width:31%}.saved-colors{padding-top:12px;display:-ms-grid;display:grid;grid-template-columns:repeat(auto-fill, minmax(24px, 1fr));grid-gap:8px;width:100%}.saved-colors-buttons{display:-ms-flexbox;display:flex}.saved-color{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;cursor:pointer}.saved-color:focus{outline:2px solid var(--calcite-ui-blue-1);outline-offset:2px}.saved-color:hover{-webkit-transition:outline-color 100ms ease-in-out;transition:outline-color 100ms ease-in-out;outline:2px solid var(--calcite-ui-border-2);outline-offset:2px}.delete-color{margin:0 8px}";var ie=e("calcite_color",function(){function e(e){var n=this;r(this,e);this.calciteColorChange=t(this,"calciteColorChange",7);this.appearance="default";this.color=B;this.intlB=G.b;this.intlBlue=G.blue;this.intlDeleteColor=G.deleteColor;this.intlG=G.g;this.intlGreen=G.green;this.intlH=G.h;this.intlHsv=G.hsv;this.intlHex=G.hex;this.intlHue=G.hue;this.intlR=G.r;this.intlRed=G.red;this.intlRgb=G.rgb;this.intlS=G.s;this.intlSaturation=G.saturation;this.intlSaveColor=G.saveColor;this.intlSaved=G.saved;this.intlV=G.v;this.intlValue=G.value;this.scale="m";this.theme="light";this.value=Y(B.hex());this.hueThumbState="idle";this.mode=Z.HEX;this.sliderThumbState="idle";this.colorFieldAndSliderInteractive=false;this.channelMode="rgb";this.channels=this.toChannels(B);this.dimensions=V.m;this.savedColors=[];this.handleTabActivate=function(e){n.channelMode=e.currentTarget.getAttribute("data-color-mode");n.updateChannelsFromColor(n.color)};this.handleHexInputChange=function(e){e.stopPropagation();var r=n.color;var t=e.target;var a=t.value;if(a!==Y(r.hex())){n.color=P(a)}};this.handleSavedColorSelect=function(e){var r=e.currentTarget;n.color=P(r.color)};this.handleChannelInput=function(e){var r=e.target;var t=Number(r.getAttribute("data-channel-index"));var a=n.channelMode==="rgb"?z[Object.keys(z)[t]]:D[Object.keys(D)[t]];var i=Math.max(0,Math.min(Number(r.value),a));r.value=""+i};this.handleChannelChange=function(e){var r=e.target;var t=Number(r.getAttribute("data-channel-index"));var a=__spreadArrays(n.channels);a[t]=Number(r.value);n.updateColorFromChannels(a)};this.handleSavedColorKeyDown=function(e){if(e.key===" "||e.key==="Enter"){e.preventDefault();e.stopPropagation();n.handleSavedColorSelect(e)}};this.handleColorFieldAndSliderMouseLeave=function(){n.colorFieldAndSliderInteractive=false};this.handleColorFieldAndSliderMouseEnterOrMove=function(e){var r=e.offsetY;var t=n.dimensions,a=t.colorField.height,i=t.slider.height;n.colorFieldAndSliderInteractive=r<=a+i};this.renderChannelsTabTitle=function(e){var r=n,t=r.channelMode,i=r.intlRgb,o=r.intlHsv;var l=e===t;var s=e==="rgb"?i:o;return a("calcite-tab-title",{active:l,class:L.colorMode,"data-color-mode":e,onCalciteTabsActivate:n.handleTabActivate},s)};this.renderChannelsTab=function(e){var r=n,t=r.channelMode,i=r.channels,o=r.intlB,l=r.intlBlue,s=r.intlG,h=r.intlGreen,c=r.intlH,u=r.intlHue,v=r.intlR,d=r.intlRed,f=r.intlS,p=r.intlSaturation,g=r.intlV,b=r.intlValue;var m=e===t;var y=e==="rgb";var w=y?[v,s,o]:[c,f,g];var x=y?[d,h,l]:[u,p,b];return a("calcite-tab",{active:m,class:L.control},a("div",{class:L.channels},i.map((function(e,r){return n.renderChannel(e,r,w[r],x[r])}))))};this.renderChannel=function(e,r,t,i){return a("calcite-input",{"aria-label":i,class:L.channel,"data-channel-index":r,numberButtonType:"none",onInput:n.handleChannelInput,onChange:n.handleChannelChange,prefixText:t,scale:"s",type:"number",value:e.toString()})};this.deleteColor=function(){var e=n.color.hex();var r=n.savedColors.indexOf(e)>-1;if(!r){return}var t=n.savedColors.filter((function(r){return r!==e}));n.savedColors=t;var a=""+N+n.storageId;if(n.storageId){localStorage.setItem(a,JSON.stringify(t))}};this.saveColor=function(){var e=n.color.hex();var r=n.savedColors.indexOf(e)>-1;if(r){return}var t=__spreadArrays(n.savedColors,[e]);n.savedColors=t;var a=""+N+n.storageId;if(n.storageId){localStorage.setItem(a,JSON.stringify(t))}};this.initColorFieldAndSlider=function(e){n.fieldAndSliderRenderingContext=e.getContext("2d");n.setCanvasContextSize(e,{width:n.dimensions.colorField.width,height:n.dimensions.colorField.height+n.dimensions.slider.height+n.getSliderCapSpacing()*2});n.drawColorFieldAndSlider();var r=function(e){var r=n.dimensions,t=r.colorField.height,a=r.slider.height;if(e<=t){return"color-field"}if(e<=t+a){return"slider"}return"none"};var t=function(e,r){var t=n.dimensions.colorField,a=t.height,i=t.width;var o=Math.round(D.s/i*e);var l=Math.round(D.v/a*(a-r));n.color=n.color.hsv().saturationv(o).value(l)};e.addEventListener("mousedown",(function(e){var i=e.offsetX,o=e.offsetY;var l=r(o);if(l==="color-field"){n.hueThumbState="drag";t(i,o)}else if(l==="slider"){n.sliderThumbState="drag";a(i)}}));e.addEventListener("mouseout",(function(){n.hueThumbState="idle";n.sliderThumbState="idle";n.drawColorFieldAndSlider()}));e.addEventListener("mouseup",(function(){n.hueThumbState="hover";n.sliderThumbState="hover";n.drawColorFieldAndSlider()}));e.addEventListener("mousemove",(function(e){var i=e.offsetX,o=e.offsetY;var l=r(o);if(l==="color-field"){var s=n.hueThumbState;var h=n.color.hsv();var c=n.dimensions,u=c.colorField,v=u.height,d=u.width,f=c.thumb.radius;var p=Math.round(h.saturationv()/(D.s/d));var g=Math.round(v-h.value()/(D.v/v));var b=n.containsPoint(i,o,p,g,f);var m=false;if(s==="idle"&&b){n.hueThumbState="hover";m=true}else if(s==="hover"&&!b){n.hueThumbState="idle";m=true}if(n.hueThumbState!=="drag"){if(m){n.drawColorFieldAndSlider()}return}t(i,o)}else if(l==="slider"){var y=n.dimensions,w=y.slider,x=w.height,C=w.width,S=y.thumb.radius;var M=n.sliderThumbState;var k=n.color.hsv().saturationv(100).value(100);var A=Math.round(k.hue()/(360/C));var F=Math.round((x+n.getSliderCapSpacing())/2);var I=n.containsPoint(i,o,A,F,S);var H=false;if(M==="idle"&&I){n.sliderThumbState="hover";H=true}else if(M==="hover"&&!I){n.sliderThumbState="idle";H=true}if(n.sliderThumbState!=="drag"){if(H){n.drawColorFieldAndSlider()}return}a(i)}}));var a=function(e){var r=n.dimensions.slider.width;var t=360/r*e;n.color=n.color.hue(t)}}}e.prototype.handleColorChange=function(e){this.drawColorFieldAndSlider();var r=this.toValue(e);this.updateChannelsFromColor(e);if(this.mode==="hex"&&r===Y(e.hex())&&this.value===r){return}this.value=r};e.prototype.handleScaleChange=function(e){if(e===void 0){e="m"}this.updateDimensions(e)};e.prototype.handleValueChange=function(e,r){var t=re(e);if(!t){console.warn("ignoring invalid color value: "+e);this.value=r;return}var a=this.mode!==t;this.mode=t;var n=P(e);var i=!ae(n,this.color);if(a||i){if(t==="hex"&&n.hex()===this.color.hex()){return}this.color=n;this.calciteColorChange.emit()}};e.prototype.setFocus=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){o(this.hexInputNode);return[2]}))}))};e.prototype.componentWillLoad=function(){var e=""+N+this.storageId;if(this.storageId&&localStorage.getItem(e)){this.savedColors=JSON.parse(localStorage.getItem(e))}var r=this.el.getAttribute("value");if(r){this.handleValueChange(r,this.value)}this.updateDimensions(this.scale)};e.prototype.render=function(){var e,r,t,n,i;var o=this;var s=this,h=s.color,c=s.intlDeleteColor,u=s.el,v=s.intlHex,d=s.intlSaved,f=s.intlSaveColor,p=s.savedColors,g=s.scale,b=s.theme;var m=h.hex();var y=g!=="s"?"m":g;var w=this.colorFieldAndSliderInteractive;var x=l(u);return a("div",{class:L.container},a("canvas",{class:(e={},e[L.colorFieldAndSlider]=true,e[L.colorFieldAndSliderInteractive]=w,e),onMouseEnter:this.handleColorFieldAndSliderMouseEnterOrMove,onMouseLeave:this.handleColorFieldAndSliderMouseLeave,onMouseMove:this.handleColorFieldAndSliderMouseEnterOrMove,ref:this.initColorFieldAndSlider}),a("div",{class:(r={},r[L.controlSection]=true,r[L.section]=true,r)},a("div",{class:L.hexOptions},a("span",{class:(t={},t[L.header]=true,t[L.headerHex]=true,t[L.underlinedHeader]=true,t)},v),a("calcite-color-hex-input",{class:L.control,onCalciteColorHexInputChange:this.handleHexInputChange,ref:function(e){return o.hexInputNode=e},scale:y,value:m,theme:b,dir:x})),a("calcite-tabs",{class:(n={},n[L.colorModeContainer]=true,n[L.splitSection]=true,n),dir:x},a("calcite-tab-nav",{slot:"tab-nav"},this.renderChannelsTabTitle("rgb"),this.renderChannelsTabTitle("hsv")),this.renderChannelsTab("rgb"),this.renderChannelsTab("hsv"))),a("div",{class:(i={},i[L.savedColorsSection]=true,i[L.section]=true,i)},a("div",{class:L.header},a("label",null,d),a("div",{class:L.savedColorsButtons},a("calcite-button",{appearance:"transparent","aria-label":c,class:L.deleteColor,color:"dark",iconStart:"minus",onClick:this.deleteColor,scale:g}),a("calcite-button",{appearance:"transparent","aria-label":f,class:L.saveColor,color:"dark",iconStart:"plus",onClick:this.saveColor,scale:g}))),a("div",{class:L.savedColors},__spreadArrays(p.map((function(e){return a("calcite-color-swatch",{class:L.savedColor,color:e,active:m===e,key:e,onClick:o.handleSavedColorSelect,onKeyDown:o.handleSavedColorKeyDown,scale:g,tabIndex:0,theme:b})}))))))};e.prototype.toValue=function(e){var r=this.mode;var t="hex";if(r.includes(t)){return Y(e[t]())}if(r.includes("-css")){return e[r.replace("-css","").replace("a","")]().string()}var a=e[r]().object();if(r.endsWith("a")){a.a=a.alpha;delete a.alpha}return a};e.prototype.getSliderCapSpacing=function(){var e=this.dimensions,r=e.slider.height,t=e.thumb.radius;return t*2-r};e.prototype.updateDimensions=function(e){if(e===void 0){e="m"}this.dimensions=V[e]};e.prototype.drawColorFieldAndSlider=function(){if(!this.fieldAndSliderRenderingContext){return}this.drawColorField();this.drawHueSlider()};e.prototype.drawColorField=function(){var e=this.fieldAndSliderRenderingContext;var r=this.dimensions.colorField,t=r.height,a=r.width;e.fillStyle=this.color.hsv().saturationv(100).value(100).string();e.fillRect(0,0,a,t);var n=e.createLinearGradient(0,0,a,0);n.addColorStop(0,"rgba(255,255,255,1)");n.addColorStop(1,"rgba(255,255,255,0)");e.fillStyle=n;e.fillRect(0,0,a,t);var i=e.createLinearGradient(0,0,0,t);i.addColorStop(0,"rgba(0,0,0,0)");i.addColorStop(1,"rgba(0,0,0,1)");e.fillStyle=i;e.fillRect(0,0,a,t);this.drawActiveColorFieldColor()};e.prototype.setCanvasContextSize=function(e,r){var t=r.height,a=r.width;var n=window.devicePixelRatio||1;e.width=a*n;e.height=t*n;e.style.height=t+"px";e.style.width=a+"px";var i=e.getContext("2d");i.scale(n,n)};e.prototype.containsPoint=function(e,r,t,a,n){return Math.pow(e-t,2)+Math.pow(r-a,2)<=Math.pow(n,2)};e.prototype.drawActiveColorFieldColor=function(){var e=this.color.hsv();var r=this.dimensions,t=r.colorField,a=t.height,n=t.width,i=r.thumb.radius;var o=e.saturationv()/(D.s/n);var l=a-e.value()/(D.v/a);this.drawThumb(this.fieldAndSliderRenderingContext,i,o,l,e,this.hueThumbState)};e.prototype.drawThumb=function(e,r,t,a,n,i){var o=0;var l=2*Math.PI;e.beginPath();e.arc(t,a,r,o,l);e.shadowBlur=i==="hover"?32:16;e.shadowColor="rgba(0, 0, 0, "+(i==="drag"?.32:.16)+")";e.fillStyle="#fff";e.fill();e.beginPath();e.arc(t,a,r-3,o,l);e.shadowBlur=0;e.shadowColor="transparent";e.fillStyle=n.rgb().string();e.fill()};e.prototype.drawActiveHueSliderColor=function(){var e=this.color.hsv().saturationv(100).value(100);var r=this.dimensions,t=r.colorField.height,a=r.slider,n=a.height,i=a.width,o=r.thumb.radius;var l=e.hue()/(360/i);var s=n/2+t;this.drawThumb(this.fieldAndSliderRenderingContext,o,l,s,e,this.sliderThumbState)};e.prototype.drawHueSlider=function(){var e=this.fieldAndSliderRenderingContext;var r=this.dimensions,t=r.colorField.height,a=r.slider,n=a.height,i=a.width;var o=e.createLinearGradient(0,0,i,0);var l=["red","yellow","lime","cyan","blue","magenta","red"];var s=1/(l.length-1);var h=0;l.forEach((function(e){o.addColorStop(h,P(e).string());h+=s}));e.fillStyle=o;e.clearRect(0,t,i,n+this.getSliderCapSpacing()*2);e.fillRect(0,t,i,n);this.drawActiveHueSliderColor()};e.prototype.updateColorFromChannels=function(e){this.color=P(e,this.channelMode)};e.prototype.updateChannelsFromColor=function(e){this.channels=this.toChannels(e)};e.prototype.toChannels=function(e){var r=this.channelMode;return e[r]().array().map((function(e){return Math.floor(e)}))};Object.defineProperty(e.prototype,"el",{get:function(){return n(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{color:["handleColorChange"],scale:["handleScaleChange"],value:["handleValueChange"]}},enumerable:false,configurable:true});return e}());ie.style=ne;var oe={container:"container",preview:"preview",input:"input"};var le=":host([hidden]){display:none}:host{display:block}.container{width:100%;display:-ms-inline-grid;display:inline-grid;-ms-grid-columns:1fr auto;grid-template-columns:1fr auto;-ms-flex-align:center;align-items:center}.preview{-ms-grid-column:2;-ms-grid-column-span:1;grid-column:2/3;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:none;margin:0 6px;z-index:1}.preview,.input{-ms-grid-row:1;grid-row:1}.input{-ms-grid-column:1;-ms-grid-column-span:2;grid-column:1/3;text-transform:uppercase;width:100%}";var se=P();var he=e("calcite_color_hex_input",function(){function e(e){var a=this;r(this,e);this.calciteColorHexInputChange=t(this,"calciteColorHexInputChange",7);this.intlHex=G.hex;this.scale="m";this.theme="light";this.value=Y(se.hex());this.onCalciteInputBlur=function(e){var r=e.currentTarget;var t="#"+r.value;if(X(t)&&J(t)){return}r.value=a.formatForInternalInput(q(a.internalColor.object()))};this.onInputChange=function(e){var r=e.currentTarget;var t=r.value;var n=Q("#"+t);if(!n){return}a.value=Y(t);a.calciteColorHexInputChange.emit()};this.onInputKeyDown=function(e){var r=a.inputNode;var t=e.key,n=e.altKey,i=e.ctrlKey,o=e.metaKey;var l=n||i||o;var s=r.value.length>=6;var h=getSelection().type==="Range";if(t.length===1&&!l&&!h&&(!W.test(t)||s)){e.preventDefault()}};this.internalColor=se}e.prototype.componentWillLoad=function(){var e=Y(this.value);if(X(e)){this.internalColor=P(e);this.value=e}};e.prototype.handleValueChange=function(e,r){var t=Y(e);if(X(t)){var a=t!==Y(this.internalColor.hex());this.internalColor=P(t);this.value=t;if(a){this.calciteColorHexInputChange.emit()}return}this.value=r};e.prototype.render=function(){var e=this;var r=this,t=r.el,n=r.intlHex,i=r.value;var o=this.formatForInternalInput(i);var s=l(t);return a("div",{class:oe.container},a("calcite-input",{"aria-label":n,class:oe.input,dir:s,onChange:this.onInputChange,onCalciteInputBlur:this.onCalciteInputBlur,onKeyDown:this.onInputKeyDown,prefixText:"#",ref:function(r){return e.inputNode=r},scale:"s",value:o}),a("calcite-color-swatch",{active:true,class:oe.preview,scale:"s",color:"#"+o}))};e.prototype.setFocus=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){o(this.inputNode);return[2]}))}))};e.prototype.formatForInternalInput=function(e){return e.replace("#","")};Object.defineProperty(e.prototype,"el",{get:function(){return n(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{value:["handleValueChange"]}},enumerable:false,configurable:true});return e}());he.style=le;var ce={swatch:"swatch"};var ue=":host([hidden]){display:none}:host{display:-ms-inline-flexbox;display:inline-flex}:host([scale=s]){height:20px;width:20px}:host([scale=m]){height:24px;width:24px}:host([scale=l]){height:28px;width:28px}.swatch{height:inherit;width:inherit;overflow:visible}.swatch rect{-webkit-transition:all 150ms ease-in-out;transition:all 150ms ease-in-out}";var ve="rgba(0, 0, 0, 0.15)";var de=e("calcite_color_swatch",function(){function e(e){r(this,e);this.active=false;this.scale="m";this.theme="light"}e.prototype.handleColorChange=function(e){this.internalColor=P(e)};e.prototype.componentWillLoad=function(){this.handleColorChange(this.color)};e.prototype.render=function(){var e=this,r=e.internalColor,t=e.active,n=e.theme;var o=r.hex();var l=t?ve:r[n==="light"?"darken":"whiten"](.25).hex();var s=t?"100%":"0";return a(i,{"aria-label":o,title:o},a("svg",{class:ce.swatch,xmlns:"http://www.w3.org/2000/svg"},a("rect",{width:"100%",height:"100%",fill:o,stroke:l,rx:s})))};Object.defineProperty(e,"watchers",{get:function(){return{color:["handleColorChange"]}},enumerable:false,configurable:true});return e}());de.style=ue}}}));