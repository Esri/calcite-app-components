import{r as t,c as e,h as i,H as a,g as r}from"./p-2dcc2b38.js";import{g as n}from"./p-13cfbb21.js";import{a as s,S as c,E as o,T as l,b as h,H as u,P as d,c as f,L as b,D as p,R as w,U as x}from"./p-eb6a0c18.js";var g;function m(t){let e=[{unit:g.month,num:"11",placeholder:"mm"},{unit:g.day,num:"22",placeholder:"dd"},{unit:g.year,num:"3333",placeholder:"yyyy"}],i=new Date(3333,10,22).toLocaleDateString(t);const a=i.indexOf("3876")>-1;i=y(i).replace("3876","3333");const r=e.reduce((t,e)=>t.replace(e.num,e.placeholder),i);return{order:e.sort((t,e)=>i.indexOf(t.num)<i.indexOf(e.num)?-1:1).map(t=>t.unit),separator:[". ",".","-","/","/"].find(t=>i.indexOf(t)>-1),buddhist:a,placeholder:r}}function y(t=""){return t.replace(/[\u0660-\u0669]/g,t=>t.charCodeAt(0)-1632).replace(/[\u06f0-\u06f9]/g,t=>t.charCodeAt(0)-1776).replace(/[^\x00-\x7F]/g,"")}function D(t,e){return new Intl.DateTimeFormat(e,{year:"numeric"}).format(t)}function v(t){return k[t.slice(0,2).toUpperCase()]||0}!function(t){t.day="day",t.month="month",t.year="year"}(g||(g={}));const k={AD:1,AE:6,AF:6,AI:1,AL:1,AM:1,AN:1,AR:1,AT:1,AX:1,AZ:1,BA:1,BE:1,BG:1,BH:6,BM:1,BN:1,BY:1,CH:1,CL:1,CM:1,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DZ:6,EC:1,EE:1,EG:6,ES:1,FI:1,FJ:1,FO:1,FR:1,GB:1,GE:1,GF:1,GP:1,GR:1,HR:1,HU:1,IE:1,IQ:6,IR:6,IS:1,IT:1,JO:6,KG:1,KW:6,KZ:1,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MK:1,MN:1,MQ:1,MV:5,MY:1,NL:1,NO:1,NZ:1,OM:6,PL:1,QA:6,RE:1,RO:1,RS:1,RU:1,SD:6,SE:1,SI:1,SK:1,SM:1,SY:6,TJ:1,TM:1,TR:1,UA:1,UY:1,UZ:1,VA:1,VN:1,XK:1};function F(t,e,i){const a=t.getTime(),r=!(e instanceof Date)||a>=e.getTime(),n=!(i instanceof Date)||a<=i.getTime();return r&&n}function A(t,e,i){if(!(t instanceof Date))return null;const a=t.getTime(),r=e instanceof Date&&a<e.getTime(),n=i instanceof Date&&a>i.getTime();return r?e:n?i:t}function C(t){if(!t||"string"!=typeof t)return null;const e=t.split(/[: T-]/).map(parseFloat),i=new Date(e[0],(e[1]||1)-1,e[2]||1);return isNaN(i.getTime())?(console.error(`Invalid ISO 8601 date: "${t}"`),null):i}function E(t,e){return t instanceof Date&&e instanceof Date&&t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}const I=class{constructor(i){t(this,i),this.showCalendar=!1,this.prevMonthLabel="previous month",this.nextMonthLabel="next month",this.locale="en-US",this.noCalendarInput=!1,this.localeData=m(this.locale),this.hasShadow=!!document.head.attachShadow,this.syncThisToProxyInput=()=>{this.min=this.inputProxy.min,this.max=this.inputProxy.max;const t=C(this.min),e=C(this.max),i=C(this.inputProxy.value);this.valueAsDate=A(i,t,e),this.value=function(t){return t instanceof Date?t.toISOString().split("T")[0]:""}(this.valueAsDate)},this.syncProxyInputToThis=()=>{this.inputProxy&&(this.inputProxy.value=this.value||"",this.min&&(this.inputProxy.min=this.min),this.max&&(this.inputProxy.max=this.max))},this.calciteDateChange=e(this,"calciteDateChange",7)}focusOutHandler(){this.reset()}focusInHandler(t){this.hasShadow||this.el.contains(t.srcElement)||this.reset()}keyDownHandler(t){t.keyCode===s&&this.reset()}connectedCallback(){this.setupProxyInput()}disconnectedCallback(){this.observer.disconnect()}componentWillRender(){this.syncProxyInputToThis()}render(){const t=C(this.min),e=C(this.max),r=A(this.valueAsDate,t,e),s=this.getActiveDate(r,t,e),c=r?r.toLocaleDateString(this.locale):"",o=n(this.el);return i(a,{role:"application",dir:o},i("slot",null),!this.noCalendarInput&&i("div",{class:"date-input-wrapper",role:"application"},i("calcite-icon",{icon:"calendar",class:"calendar-icon",scale:"s"}),i("input",{type:"text",placeholder:this.localeData.placeholder,value:c,class:"date-input",onFocus:()=>this.showCalendar=!0,onInput:t=>this.input(t.target.value),onBlur:t=>this.blur(t.target)})),i("div",{class:"calendar-picker-wrapper"},i("calcite-date-month-header",{activeDate:s,selectedDate:r||new Date,prevMonthLabel:this.prevMonthLabel,nextMonthLabel:this.nextMonthLabel,locale:this.locale,min:t,max:e,onCalciteActiveDateChange:t=>{this.activeDate=new Date(t.detail)},dir:o}),i("calcite-date-month",{min:t,max:e,selectedDate:r,activeDate:s,locale:this.locale,onCalciteDateSelect:t=>{this.setValue(new Date(t.detail)),this.activeDate=new Date(t.detail),this.calciteDateChange.emit(new Date(t.detail)),this.reset()},onCalciteActiveDateChange:t=>{this.activeDate=new Date(t.detail)},dir:o})))}setupProxyInput(){if(this.inputProxy=this.el.querySelector("input"),!this.inputProxy){this.inputProxy=document.createElement("input");try{this.inputProxy.type="date"}catch(t){this.inputProxy.type="text"}this.syncProxyInputToThis(),this.el.appendChild(this.inputProxy)}this.syncThisToProxyInput(),this.observer=new MutationObserver(this.syncThisToProxyInput),this.observer.observe(this.inputProxy,{attributes:!0})}setValue(t){this.valueAsDate=new Date(t),this.value=t.toISOString().split("T")[0],this.syncProxyInputToThis()}reset(){this.valueAsDate&&(this.activeDate=new Date(this.valueAsDate)),this.noCalendarInput||(this.showCalendar=!1)}input(t){const e=this.getDateFromInput(t);e&&(this.setValue(e),this.activeDate=e,this.calciteDateChange.emit(new Date(e)))}blur(t){!this.getDateFromInput(t.value)&&this.valueAsDate&&(t.value=this.valueAsDate.toLocaleDateString(this.locale))}getActiveDate(t,e,i){return A(this.activeDate,e,i)||t||A(new Date,e,i)}getDateFromInput(t){const{separator:e}=this.localeData,{day:i,month:a,year:r}=function(t,e){const{separator:i,order:a,buddhist:r}=m(e),n=y(t).split(i).filter(t=>t!==i).map(t=>t.replace(".",""));return{day:parseInt(n[a.indexOf(g.day)]),month:Math.max(parseInt(n[a.indexOf(g.month)])-1,0),year:parseInt(n[a.indexOf(g.year)])-(r?543:0)}}(t,this.locale),n=new Date(r,a,i),s=!isNaN(n.getTime()),c=t.split(e).filter(t=>t).length>2,o=r.toString().length>3;return!!(s&&c&&o&&F(n,this.min,this.max))&&n}get el(){return r(this)}};I.style=":host([hidden]){display:none}:host{display:inline-block;vertical-align:top}::slotted(input){display:none}.date-input-wrapper{border:1px solid var(--calcite-ui-border-1);position:relative}.date-input-wrapper:active,.date-input-wrapper:focus{border-color:transparent;border-bottom:1px solid var(--calcite-ui-border-3)}.date-input{color:var(--calcite-ui-text-3);background:var(--calcite-ui-foreground-1);-webkit-box-sizing:border-box;box-sizing:border-box;border:none;font-weight:400;font-size:1rem;line-height:1.5;font-family:inherit;padding:0.75rem 2.5rem;width:100%;margin:0}.date-input:active,.date-input:focus{outline:none}.calendar-icon{color:var(--calcite-ui-text-3);position:absolute;top:50%;margin:-8px 0.75rem;pointer-events:none}.calendar-picker-wrapper{position:absolute;background-color:var(--calcite-ui-foreground-1);-webkit-box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);opacity:0;visibility:hidden;-webkit-transform:translate3d(0, -1.5rem, 0);transform:translate3d(0, -1.5rem, 0);-webkit-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out;pointer-events:none;z-index:2}:host([show-calendar]){background-color:var(--calcite-ui-foreground-1);border-radius:var(--calcite-border-radius);border:1px solid var(--calcite-ui-border-2);-webkit-box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);overflow:hidden}:host([show-calendar]) .calendar-picker-wrapper{opacity:1;-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);visibility:visible;pointer-events:initial}:host([show-calendar]) .date-input-wrapper{border:none;border-bottom:1px solid var(--calcite-ui-border-3)}:host([no-calendar-input]) .calendar-picker-wrapper{position:static;-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}";const M=class{constructor(i){t(this,i),this.disabled=!1,this.currentMonth=!1,this.selected=!1,this.active=!1,this.calciteDaySelect=e(this,"calciteDaySelect",7)}onClick(){!this.disabled&&this.calciteDaySelect.emit()}keyDownHandler(t){t.keyCode!==c&&t.keyCode!==o||!this.disabled&&this.calciteDaySelect.emit()}render(){const t=new Intl.NumberFormat(this.locale);return i(a,{role:"gridcell",tabindex:this.selected||this.active?0:-1},i("span",{class:"day"},t.format(this.day)))}get el(){return r(this)}};M.style=":host([hidden]){display:none}:host-context([theme=dark]){--calcite-ui-blue-1:#00A0FF;--calcite-ui-blue-2:#0087D7;--calcite-ui-blue-3:#47BBFF;--calcite-ui-green-1:#36DA43;--calcite-ui-green-2:#11AD1D;--calcite-ui-green-3:#44ED51;--calcite-ui-yellow-1:#FFC900;--calcite-ui-yellow-2:#F4B000;--calcite-ui-yellow-3:#FFE24D;--calcite-ui-red-1:#FE583E;--calcite-ui-red-2:#F3381B;--calcite-ui-red-3:#FF7465;--calcite-ui-background:#202020;--calcite-ui-foreground-1:#2b2b2b;--calcite-ui-foreground-2:#353535;--calcite-ui-foreground-3:#404040;--calcite-ui-text-1:#ffffff;--calcite-ui-text-2:#bfbfbf;--calcite-ui-text-3:#9f9f9f;--calcite-ui-border-1:#4a4a4a;--calcite-ui-border-2:#404040;--calcite-ui-border-3:#353535;--calcite-ui-border-4:#757575;--calcite-ui-border-5:#9f9f9f}:host{display:-ms-flexbox;display:flex;outline:none;color:var(--calcite-ui-text-3);padding:0.3rem 0.4rem;cursor:pointer;width:calc(100% / 7);min-width:0}:host .day{display:-ms-flexbox;display:flex;width:100%;border-radius:100%;font-size:0.875rem;line-height:1.5;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;height:2rem;width:2rem;color:var(--calcite-ui-text-3);-webkit-transition:all 150ms ease-in-out;transition:all 150ms ease-in-out;background:none;-webkit-box-shadow:0 0 0 2px transparent, 0 0 0 0px transparent;box-shadow:0 0 0 2px transparent, 0 0 0 0px transparent}:host([current-month]) .day{color:var(--calcite-ui-text-1)}:host([disabled]){cursor:default;pointer-events:none}:host([disabled]) .day{color:var(--calcite-ui-border-1)}:host(:hover) .day,:host([active]) .day{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}:host(:focus) .day{-webkit-box-shadow:0 0 0 2px var(--calcite-ui-foreground-1), 0 0 0 4px var(--calcite-ui-blue-1);box-shadow:0 0 0 2px var(--calcite-ui-foreground-1), 0 0 0 4px var(--calcite-ui-blue-1)}:host([selected]) .day{background-color:var(--calcite-ui-blue-1);color:var(--calcite-ui-foreground-1);font-weight:500}";const B=class{constructor(i){t(this,i),this.activeDate=new Date,this.locale="en-US",this.calciteDateSelect=e(this,"calciteDateSelect",7),this.calciteActiveDateChange=e(this,"calciteActiveDateChange",7)}keyDownHandler(t){const e="rtl"===this.el.dir;switch(t.keyCode){case x:t.preventDefault(),this.addDays(-7);break;case w:t.preventDefault(),this.addDays(e?-1:1);break;case p:t.preventDefault(),this.addDays(7);break;case b:t.preventDefault(),this.addDays(e?1:-1);break;case f:t.preventDefault(),this.addMonths(-1);break;case d:t.preventDefault(),this.addMonths(1);break;case u:t.preventDefault(),this.activeDate.setDate(1),this.addDays();break;case h:t.preventDefault(),this.activeDate.setDate(new Date(this.activeDate.getFullYear(),this.activeDate.getMonth()+1,0).getDate()),this.addDays();break;case o:case c:t.preventDefault(),this.calciteDateSelect.emit(this.activeDate);break;case l:this.activeFocus=!1}}disableActiveFocus(){this.activeFocus=!1}render(){const t=this.activeDate.getMonth(),e=this.activeDate.getFullYear(),r=v(this.locale),n=function(t){const e=[],i=[],a=new Date;for(let r=1;r<8;r++){a.setDate(r);let n=new Intl.DateTimeFormat(t,{weekday:"short"}).format(a);a.getDay()===v(t)||e.length>0?e.push(n):i.push(n)}return[...e,...i]}(this.locale),s=this.getCurrentMonthDays(t,e),c=this.getPrevMonthdays(t,e,r),o=this.getNextMonthDays(t,e,r),l=[...c.map(a=>{const r=new Date(e,t-1,a);return i("calcite-date-day",{day:a,disabled:!F(r,this.min,this.max),selected:E(r,this.selectedDate),onCalciteDaySelect:()=>this.calciteDateSelect.emit(r),locale:this.locale})}),...s.map(a=>{const r=new Date(e,t,a),n=E(r,this.activeDate);return i("calcite-date-day",{day:a,disabled:!F(r,this.min,this.max),selected:E(r,this.selectedDate),active:n,onCalciteDaySelect:()=>this.calciteDateSelect.emit(r),locale:this.locale,ref:t=>{n&&this.activeFocus&&(null==t||t.focus())},"current-month":!0})}),...o.map(a=>{const r=new Date(e,t+1,a);return i("calcite-date-day",{day:a,disabled:!F(r,this.min,this.max),selected:E(r,this.selectedDate),onCalciteDaySelect:()=>this.calciteDateSelect.emit(r),locale:this.locale})})],h=[];for(let i=0;i<l.length;i+=7)h.push(l.slice(i,i+7));return i(a,null,i("div",{class:"calender",role:"grid"},i("div",{class:"week-headers",role:"row"},n.map(t=>i("span",{class:"week-header",role:"columnheader"},t))),h.map(t=>i("div",{class:"week-days",role:"row"},t))))}addMonths(t){const e=new Date(this.activeDate);e.setMonth(this.activeDate.getMonth()+t),this.calciteActiveDateChange.emit(A(e,this.min,this.max)),this.activeFocus=!0}addDays(t=0){const e=new Date(this.activeDate);e.setDate(this.activeDate.getDate()+t),this.calciteActiveDateChange.emit(A(e,this.min,this.max)),this.activeFocus=!0}getPrevMonthdays(t,e,i){const a=new Date(e,t,0),r=a.getDate(),n=[];if(a.getDay()-6===i)return n;for(let s=a.getDay();s>=i;s--)n.push(r-s);return n}getCurrentMonthDays(t,e){const i=new Date(e,t+1,0).getDate(),a=[];for(let r=0;r<i;r++)a.push(r+1);return a}getNextMonthDays(t,e,i){const a=new Date(e,t+1,0).getDay(),r=[];if(a===(i+6)%7)return r;for(let n=0;n<(6-(a-i))%7;n++)r.push(n+1);return r}get el(){return r(this)}};B.style=":host([hidden]){display:none}:host-context([theme=dark]){--calcite-ui-blue-1:#00A0FF;--calcite-ui-blue-2:#0087D7;--calcite-ui-blue-3:#47BBFF;--calcite-ui-green-1:#36DA43;--calcite-ui-green-2:#11AD1D;--calcite-ui-green-3:#44ED51;--calcite-ui-yellow-1:#FFC900;--calcite-ui-yellow-2:#F4B000;--calcite-ui-yellow-3:#FFE24D;--calcite-ui-red-1:#FE583E;--calcite-ui-red-2:#F3381B;--calcite-ui-red-3:#FF7465;--calcite-ui-background:#202020;--calcite-ui-foreground-1:#2b2b2b;--calcite-ui-foreground-2:#353535;--calcite-ui-foreground-3:#404040;--calcite-ui-text-1:#ffffff;--calcite-ui-text-2:#bfbfbf;--calcite-ui-text-3:#9f9f9f;--calcite-ui-border-1:#4a4a4a;--calcite-ui-border-2:#404040;--calcite-ui-border-3:#353535;--calcite-ui-border-4:#757575;--calcite-ui-border-5:#9f9f9f}.calender .week-headers{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;border-bottom:1px solid var(--calcite-ui-border-3);border-top:1px solid var(--calcite-ui-border-3)}.calender .week-headers .week-header{color:var(--calcite-ui-text-2);padding:0.75rem 0;text-transform:uppercase;font-weight:600;font-size:11px;width:calc(100% / 7);text-align:center}.calender .week-days{outline:none;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}";const S=class{constructor(i){t(this,i),this.calciteActiveDateChange=e(this,"calciteActiveDateChange",7)}render(){const t=this.activeDate.getMonth(),e=function(t){const e=new Date(0,0,1);return[0,1,2,3,4,5,6,7,8,9,10,11].map(i=>(e.setMonth(i),new Intl.DateTimeFormat(t,{month:"long"}).format(e)))}(this.locale)[t],r=D(this.activeDate,this.locale),s=n(this.el);return i(a,{dir:s},i("div",{class:"month-year","aria-hidden":"true"},i("button",{class:"left-icon","aria-label":this.prevMonthLabel,onClick:()=>this.selectPrevMonth()},i("calcite-icon",{icon:"chevron-left",scale:"s",mirrored:!0,dir:s})),i("div",{class:"month-year-text"},i("span",{class:"month",role:"heading"},e),i("input",{class:"year",type:"text",inputmode:"numeric",maxlength:"4",minlength:"4",pattern:"\\d*",value:`${r.slice(-4)}`,onKeyDown:t=>this.onYearKey(t),onChange:t=>this.setYear(t.target.value),ref:t=>this.yearInput=t})),i("button",{class:"right-icon","aria-label":this.nextMonthLabel,onClick:()=>this.selectNextMonth()},i("calcite-icon",{icon:"chevron-right",scale:"s",mirrored:!0,dir:s}))))}selectPrevMonth(){const t=function(t){const e=t.getMonth(),i=new Date(t);return i.setMonth(e-1),e===i.getMonth()?new Date(t.getFullYear(),e,0):i}(this.activeDate);this.calciteActiveDateChange.emit(A(t,this.min,this.max))}selectNextMonth(){const t=function(t){const e=t.getMonth(),i=new Date(t);return i.setMonth(e+1),(e+2)%7==i.getMonth()%7?new Date(t.getFullYear(),e+2,0):i}(this.activeDate);this.calciteActiveDateChange.emit(A(t,this.min,this.max))}onYearKey(t){const e=t.target.value;switch(t.keyCode){case p:t.preventDefault(),this.setYear(e,-1);break;case x:t.preventDefault(),this.setYear(e,1)}}setYear(t,e=0){const{min:i,max:a,activeDate:r,locale:n,yearInput:s}=this,c=parseInt(y(t)),o=c.toString().length,l=m(n).buddhist?543:0,h=!isNaN(c)&&c-l+e,u=h&&(!i||i.getFullYear()<=h)&&(!a||a.getFullYear()>=h);if(h&&u&&o===t.length&&o>3){const t=new Date(r);t.setFullYear(h);const e=A(t,i,a);this.calciteActiveDateChange.emit(e),s.value=D(e,n).slice(-4)}else s.value=D(r,n).slice(-4)}get el(){return r(this)}};S.style=":host([hidden]){display:none}:host-context([theme=dark]){--calcite-ui-blue-1:#00A0FF;--calcite-ui-blue-2:#0087D7;--calcite-ui-blue-3:#47BBFF;--calcite-ui-green-1:#36DA43;--calcite-ui-green-2:#11AD1D;--calcite-ui-green-3:#44ED51;--calcite-ui-yellow-1:#FFC900;--calcite-ui-yellow-2:#F4B000;--calcite-ui-yellow-3:#FFE24D;--calcite-ui-red-1:#FE583E;--calcite-ui-red-2:#F3381B;--calcite-ui-red-3:#FF7465;--calcite-ui-background:#202020;--calcite-ui-foreground-1:#2b2b2b;--calcite-ui-foreground-2:#353535;--calcite-ui-foreground-3:#404040;--calcite-ui-text-1:#ffffff;--calcite-ui-text-2:#bfbfbf;--calcite-ui-text-3:#9f9f9f;--calcite-ui-border-1:#4a4a4a;--calcite-ui-border-2:#404040;--calcite-ui-border-3:#353535;--calcite-ui-border-4:#757575;--calcite-ui-border-5:#9f9f9f}.month-year{display:-ms-flexbox;display:flex}.right-icon,.left-icon{color:var(--calcite-ui-text-3);-ms-flex-positive:1;flex-grow:1;outline:none;padding:0;border:none;color:inherit;background-color:var(--calcite-ui-foreground-1);cursor:pointer;-webkit-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out}.right-icon:hover,.right-icon:focus,.left-icon:hover,.left-icon:focus{fill:var(--calcite-ui-text-1);background-color:var(--calcite-ui-foreground-2)}.right-icon:active,.left-icon:active{background-color:var(--calcite-ui-foreground-3)}.month-year-text{padding:0.5rem;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-positive:1;flex-grow:1;width:50%;-ms-flex-pack:center;justify-content:center}.month,.year{color:var(--calcite-ui-text-1);background:var(--calcite-ui-foreground-1);font-size:1rem;line-height:1.5;font-weight:500}.year{font-family:inherit;text-align:center;border:none;width:3em;padding:0;margin:0 8px;outline-offset:0;outline-color:rgba(0, 0, 0, 0);-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}.year:focus{outline:2px solid var(--calcite-ui-blue-1);outline-offset:2px}";export{I as calcite_date,M as calcite_date_day,B as calcite_date_month,S as calcite_date_month_header}