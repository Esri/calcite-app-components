import{r as t,c as e,h as i,H as s,g as a}from"./p-b0b0104a.js";import{S as n,E as h,a as r,b as o,H as l,P as c,c as d,L as u,D as p,R as b,U as f}from"./p-eb6a0c18.js";const w=class{constructor(i){t(this,i),this.day=0,this.enable=!0,this.selected=!1,this.active=!1,this.calciteDaySelect=e(this,"calciteDaySelect",7)}componentWillUpdate(){}render(){return i(s,{class:`${this.active?"active":""}\n        ${this.enable?"enabled":"disabled"}\n        ${this.selected?"selected-day":""}`,role:"gridcell",tabindex:this.selected||this.active?0:-1},i("span",{class:"day"},this.day))}onClick(){this.enable&&(this.selected=!0)&&this.calciteDaySelect.emit()}keyDownHandler(t){t.keyCode!==n&&t.keyCode!==h||this.enable&&(this.selected=!0)&&this.calciteDaySelect.emit()}get el(){return a(this)}};w.style=":host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;outline:none;color:var(--calcite-ui-text-3);padding:0.3rem 0.4rem;cursor:pointer;width:calc(100% / 7)}:host .disabled{pointer-events:none}:host .day{display:-ms-flexbox;display:flex;width:100%;border-radius:100%;font-size:14px;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;height:2rem;width:2rem}:host(:hover) .day,:host(:focus) .day,:host(.active) .day{background-color:var(--calcite-ui-foreground-2);-webkit-transition:all 150ms ease-in-out;transition:all 150ms ease-in-out;color:var(--calcite-ui-text-1)}:host(.selected-day) .day,:host(:focus.active) .day{-webkit-transition:all 150ms ease-in-out;transition:all 150ms ease-in-out;background-color:var(--calcite-ui-blue-1);border-radius:100%;color:var(--calcite-ui-foreground-1);font-weight:500}:host(.disabled){cursor:default}:host(.disabled) .day{color:#bfbfbf;background:none}:host(:hover) .disabled .day,:host(.active) .disabled .day,:host(:focus.active) .disabled .day{color:#bfbfbf;background:none}";const g=class{constructor(i){t(this,i),this.month=0,this.year=0,this.startOfWeek=0,this.locale="en-US",this.calciteDateSelect=e(this,"calciteDateSelect",7),this.calciteActiveDateChange=e(this,"calciteActiveDateChange",7)}componentWillUpdate(){}render(){let t=this.getLocalizedWeekday(),e=[...Array(new Date(this.year,this.month+1,0).getDate()).keys()],a=this.getPrevMonthdays(this.month,this.year),n=this.getNextMonthdays(this.month,this.year),h=[],r=[...a.map(t=>i("calcite-date-day",{day:t,enable:!1})),...e.map(t=>i("calcite-date-day",{day:t+1,enable:this.validateDate(t+1,this.month,this.year),selected:this.isSelectedDate(this.year,this.month,t+1),active:this.activeDate.getDate()===t+1,onCalciteDaySelect:()=>this.onSelectDate(t+1)})),...n.map(t=>i("calcite-date-day",{day:t+1,enable:!1}))];for(let i=0;i<r.length;i+=7)h.push(r.slice(i,i+7));return i(s,null,i("div",{class:"calender",role:"grid"},i("div",{class:"week-headers",role:"presentation"},t.map(t=>i("span",{class:"week-header",role:"columnheader"},t))),h.map(t=>i("div",{class:"week-days",role:"row"},t))))}keyDownHandler(t){switch(t.keyCode){case f:t.preventDefault(),this.addDaysToActiveDate(-7);break;case b:t.preventDefault(),this.addDaysToActiveDate(1);break;case p:t.preventDefault(),this.addDaysToActiveDate(7);break;case u:t.preventDefault(),this.addDaysToActiveDate(-1);break;case d:t.preventDefault(),this.addMonthToActiveDate(-1);break;case c:t.preventDefault(),this.addMonthToActiveDate(1);break;case l:t.preventDefault(),this.activeDate.setDate(1),this.addDaysToActiveDate();break;case o:t.preventDefault(),this.activeDate.setDate(new Date(this.activeDate.getFullYear(),this.activeDate.getMonth()+1,0).getDate()),this.addDaysToActiveDate();break;case h:case n:t.preventDefault(),this.selectedDate=this.activeDate,this.calciteDateSelect.emit();break;case r:t.preventDefault(),this.activeDate=this.selectedDate,this.calciteActiveDateChange.emit()}}mouseoverHandler(t){let e=t.target.day||this.activeDate.getDate();if(t.target.enable&&e!=this.activeDate.getDate()){let[t,i,s]=[e,this.activeDate.getMonth(),this.activeDate.getFullYear()];this.validateDate(t,i,s)&&(this.activeDate=new Date(s,i,t),this.calciteActiveDateChange.emit())}}addMonthToActiveDate(t){let[e,i,s]=[this.activeDate.getDate(),this.activeDate.getMonth(),this.activeDate.getFullYear()];i+=t,12===i&&(i=0,s+=1),-1===i&&(i=11,s-=1),this.validateDate(e,i,s)&&(this.activeDate=new Date(s,i,e),this.calciteActiveDateChange.emit())}addDaysToActiveDate(t=0){let[e,i,s]=[this.activeDate.getDate(),this.activeDate.getMonth(),this.activeDate.getFullYear()];e+=t;let a=new Date(s,i+1,0).getDate(),n=new Date(s,i,0).getDate();e>a&&(e-=a,i+=1,12===i&&(i=0,s+=1)),e<0&&(e=n+e,i-=1,-1===i&&(i=11,s-=1)),this.validateDate(e,i,s)&&(this.activeDate=new Date(s,i,e),this.calciteActiveDateChange.emit())}onSelectDate(t){this.selectedDate=new Date(this.year,this.month,t),this.calciteDateSelect.emit()}isSelectedDate(t,e,i){return new Date(t,e,i).toDateString().substr(0,10)===this.selectedDate.toDateString().substr(0,10)}validateDate(t,e,i){let s=!0;if(this.min){let a=this.min.getFullYear(),n=this.min.getMonth(),h=this.min.getDate();s=s&&(a<i||a===i&&n<e||n===e&&h<t)}if(this.max){let a=this.max.getFullYear(),n=this.max.getMonth(),h=this.max.getDate();s=s&&(a>i||a===i&&n>e||n===e&&h>t)}return s}getPrevMonthdays(t,e){let i=new Date(e,t,1).getDay(),s=[],a=new Date(e,t,0).getDate();if(i===this.startOfWeek)return s;for(let n=(6-this.startOfWeek+i)%7;n>=0;n--)s.push(a-n);return s}getNextMonthdays(t,e){let i=new Date(e,t+1,0).getDay();return i===(this.startOfWeek+6)%7?[]:[...Array((6-(i-this.startOfWeek))%7).keys()]}getLocalizedWeekday(){let t=1,e=[],i=[],s=new Date;for(;t<8;t++){s.setDate(t);let a=new Intl.DateTimeFormat(this.locale,{weekday:"short"}).format(s);s.getDay()===this.startOfWeek||e.length>0?e.push(a):i.push(a)}return[...e,...i]}get el(){return a(this)}};g.style=":host([hidden]){display:none}.calender .week-headers{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;border-bottom:1px solid var(--calcite-ui-border-3);border-top:1px solid var(--calcite-ui-border-3)}.calender .week-headers .week-header{color:var(--calcite-ui-text-2);padding:0.75rem 0;text-transform:uppercase;font-weight:600;font-size:11px;width:calc(100% / 7);text-align:center}.calender .week-days{outline:none;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}";const m=class{constructor(i){t(this,i),this.month=0,this.year=0,this.locale="en-US",this.prevMonthLabel="",this.nextMonthLabel="",this.calciteMonthChange=e(this,"calciteMonthChange",7),this.calciteYearChange=e(this,"calciteYearChange",7)}monthChange(){this.calciteMonthChange.emit()}yearChange(){this.calciteYearChange.emit()}componentWillUpdate(){}render(){let t=this.getLocalizedMonths()[this.month];return i(s,null,i("div",{class:"month-year","aria-hidden":"true"},i("button",{class:"left-icon","aria-label":this.prevMonthLabel,onClick:()=>this.selectPrevMonth()},i("calcite-icon",{icon:"chevron-left",scale:"s"})),i("div",{class:"month-year-text"},i("span",{class:"month",role:"heading"},t),i("input",{class:"year",type:"number",value:this.year,min:this.min&&this.min.getFullYear(),max:this.max&&this.max.getFullYear(),onChange:t=>this.onYearChange(t)})),i("button",{class:"right-icon","aria-label":this.nextMonthLabel,onClick:()=>this.selectNextMonth()},i("calcite-icon",{icon:"chevron-right",scale:"s"}))))}selectPrevMonth(){if(0===this.month){if(!this.validateYear(this.year-1))return;this.year-=1}this.validateMonth((12+this.month-1)%12,this.year)&&(this.month=(12+this.month-1)%12)}selectNextMonth(){if(11===this.month){if(!this.validateYear(this.year+1))return;this.year+=1}this.validateMonth((this.month+1)%12,this.year)&&(this.month=(this.month+1)%12)}validateYear(t){let e=!0;return this.min&&(e=e&&t>=this.min.getFullYear()),this.max&&(e=e&&t<=this.max.getFullYear()),e}validateMonth(t,e){let i=!0;return this.min&&(i=i&&!!this.validateYear(e)&&(e!==this.min.getFullYear()||t>=this.min.getMonth())),this.max&&(i=i&&!!this.validateYear(e)&&(e!==this.max.getFullYear()||t<=this.max.getMonth())),i}onYearChange(t){this.year=parseInt(t.target.value)}getLocalizedMonths(){let t=0,e=[],i=new Date;for(;t<12;t++)i.setMonth(t),e.push(new Intl.DateTimeFormat(this.locale,{month:"long"}).format(i));return e}get el(){return a(this)}static get watchers(){return{month:["monthChange"],year:["yearChange"]}}};m.style=":host([hidden]){display:none}.month-year{display:-ms-flexbox;display:flex}input{font-family:inherit;text-align:center}.right-icon,.left-icon{color:var(--calcite-ui-text-3);-ms-flex-positive:1;flex-grow:1;outline:none;padding:0;border:none;color:inherit;background-color:var(--calcite-ui-foreground-1);cursor:pointer;-webkit-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out}.right-icon:hover,.right-icon:focus,.left-icon:hover,.left-icon:focus{fill:var(--calcite-ui-text-1);background-color:var(--calcite-ui-foreground-2)}.right-icon:active,.left-icon:active{background-color:var(--calcite-ui-foreground-pressed)}.month-year-text{padding:0.5rem;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-positive:1;flex-grow:1;width:50%;-ms-flex-pack:center;justify-content:center}.month,.year{color:var(--calcite-ui-text-1);background:var(--calcite-ui-foreground-1);font-size:1rem;line-height:1.5;font-weight:500}.year{border:none;width:60px;padding:0;margin:0}input[type=number]{-moz-appearance:textfield}input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{-webkit-appearance:none}";const x=class{constructor(i){t(this,i),this.value="",this.min="",this.max="",this.placeholder="mm/dd/yyyy",this.prevMonthLabel="",this.nextMonthLabel="",this.startOfWeek=0,this.locale="en-GB",this.valueAsDate=isNaN(Date.parse(this.value))?null:this.generateDate(this.value),this.noCalendarInput=!1,this.showCalendar=!1,this.activeDate=isNaN(Date.parse(this.value))?new Date:this.generateDate(this.value),this.syncThisToProxyInput=()=>{this.value=this.inputProxy.valueAsDate&&this.inputProxy.valueAsDate.toISOString()||"",this.min=this.inputProxy.min,this.max=this.inputProxy.max},this.syncProxyInputToThis=()=>{this.inputProxy.valueAsDate=this.valueAsDate,this.inputProxy.min=this.min,this.inputProxy.max=this.max},this.calciteDateChange=e(this,"calciteDateChange",7)}onNameChanged(t){isNaN(Date.parse(t))||(this.valueAsDate=this.generateDate(t),this.activeDate=this.generateDate(t))}connectedCallback(){this.setupProxyInput()}disconnectedCallback(){this.observer.disconnect()}componentWillRender(){this.syncProxyInputToThis()}render(){let t=this.valueAsDate||new Date;return i(s,{role:"application",expanded:this.showCalendar},!this.noCalendarInput&&i("div",{class:`date-input-wrapper ${this.showCalendar?"expanded":""}`,role:"application"},i("calcite-icon",{icon:"calendar",class:"calendar-icon",scale:"s"}),i("input",{type:"text",placeholder:this.placeholder,value:this.valueAsDate?new Intl.DateTimeFormat(this.locale).format(this.valueAsDate):"",class:"date-input",onFocus:()=>this.expandCalendar(),onInput:t=>this.setDate(t.target)})),this.showCalendar&&i("div",{class:"calendar-picker-wrapper"},i("calcite-date-month-header",{month:this.getMonth(),year:this.getYear(),selectedDate:t,prevMonthLabel:this.prevMonthLabel,nextMonthLabel:this.nextMonthLabel,locale:this.locale,min:this.min?new Date(this.min):null,max:this.max?new Date(this.max):null,onCalciteMonthChange:t=>this.setMonth(t.target),onCalciteYearChange:t=>this.setYear(t.target)}),i("calcite-date-month",{month:this.getMonth(),year:this.getYear(),min:this.min?new Date(this.min):null,max:this.max?new Date(this.max):null,selectedDate:t,activeDate:this.activeDate,startOfWeek:this.startOfWeek,locale:this.locale,onCalciteDateSelect:t=>{this.closeCalendar(),this.setDate(t.target)},onCalciteActiveDateChange:t=>this.setActiveDate(t.target)})),i("slot",null))}setActiveDate(t){this.activeDate=t.activeDate}expandCalendar(){this.showCalendar=!0}closeCalendar(){this.showCalendar=!1}getMonth(){return this.activeDate.getMonth()}getYear(){return this.activeDate.getFullYear()}setMonth(t){this.activeDate=new Date(this.activeDate.setMonth(t.month))}setYear(t){this.activeDate=new Date(this.activeDate.setFullYear(t.year))}setDate(t){this.value=isNaN(Date.parse(t.value))?t.selectedDate?t.selectedDate.toISOString():this.value:t.value,this.syncProxyInputToThis(),this.calciteDateChange.emit()}setupProxyInput(){this.inputProxy=this.el.querySelector("input"),this.inputProxy||(this.inputProxy=document.createElement("input"),this.inputProxy.type="date",this.syncProxyInputToThis(),this.el.appendChild(this.inputProxy)),this.syncThisToProxyInput(),this.observer=new MutationObserver(this.syncThisToProxyInput),this.observer.observe(this.inputProxy,{attributes:!0})}generateDate(t){let e=new Date(t);return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}get el(){return a(this)}static get watchers(){return{value:["onNameChanged"]}}};x.style=":host([hidden]){display:none}::slotted(input){display:none}:host{display:inline-block;vertical-align:top}:host .date-input-wrapper{border:1px solid var(--calcite-ui-border-1);position:relative}:host .date-input-wrapper.expanded{border:none;border-bottom:1px solid var(--calcite-ui-border-1)}:host .date-input-wrapper:active,:host .date-input-wrapper:focus,:host .date-input-wrapper.open{border-color:transparent;border-bottom:1px solid var(--calcite-ui-border-1)}:host .date-input-wrapper .calendar-icon{color:var(--calcite-ui-text-3);position:absolute;top:0.8333333333rem;left:1.3043478261rem}:host .date-input-wrapper .date-input{color:var(--calcite-ui-text-3);background:var(--calcite-ui-foreground-1);-webkit-box-sizing:border-box;box-sizing:border-box;border:none;font-weight:400;font-size:16px;font-family:inherit;padding:0.75rem;width:100%;margin:0;padding-left:3rem}:host .date-input-wrapper .date-input:active,:host .date-input-wrapper .date-input:focus{outline:none}:host .date-input-wrapper .date-input::-webkit-inner-spin-button,:host .date-input-wrapper .date-input::-webkit-calendar-picker-indicator{display:none;-webkit-appearance:none}:host([expanded]){background-color:var(--calcite-ui-foreground-1);border-radius:var(--calcite-border-radius);border:1px solid var(--calcite-ui-border-2);-webkit-box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);overflow:hidden}";export{w as calcite_date_day,g as calcite_date_month,m as calcite_date_month_header,x as calcite_date_picker}